{"version":3,"file":"6209.5ea34a685377cc3c0c34.entry.js","mappings":"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B4K,GAAclL,EAAAA,EAAAA,UACd/B,EAAO8M,EAASI,QAAQ,IAAK,KAoBnC,OAlBAlL,EAAAA,EAAAA,YAAU,KACR,IAAImL,GAAY,EAYhB,OAXAC,iBACEH,EAAYhL,eACJ,SACJ,KAAiE6K,UAEnEO,QACGF,GACHH,GAAU,EAEb,CACDM,GACO,KACLH,GAAY,CAAZ,CADF,GAGC,CAACL,EAAUG,KAGZ,QAACR,EAAD,KACEc,UAAWN,EAAYhL,SAAWuL,EAClC,aAAYxN,GACR+M,GAJR,ECvCF,EAT0BpM,OAAO8M,KAAKC,GACnClP,QAAOmP,IAAM,IAAAA,GAAC,KAADA,EAAW,aACxBvN,KAAIuN,IAAC,CACJ,CAACA,GAAK7R,IACJ,QAAC2Q,EAAD,KAAYc,UAAWG,EAAUC,IAAQ7R,QAG5CkF,QAAO,CAACqG,EAAGuG,KAAJ,IAAgBvG,KAAMuG,MCyI1BC,EAAoD,CAAC,EA/IrC,CACpB,QACA,cACA,oBACA,kBACA,iBACA,wBACA,aACA,OACA,aACA,iBACA,WACA,SACA,eACA,WACA,YACA,QACA,eACA,aACA,aACA,cACA,WACA,YACA,QACA,gBACA,eACA,cACA,eACA,qBACA,SACA,QACA,QACA,OACA,MACA,WACA,gBACA,wBACA,aACA,OACA,gBACA,WACA,mBACA,4BACA,kBACA,WACA,OACA,WACA,OACA,QACA,QACA,cACA,oBACA,cACA,SACA,MACA,YACA,oBACA,0BACA,sBACA,YACA,gBACA,aACA,gBACA,YACA,eACA,OACA,SACA,eACA,SACA,OACA,aACA,OACA,OACA,QACA,SACA,OACA,aACA,mBACA,OACA,WACA,SACA,YACA,kBACA,OACA,OACA,YACA,WACA,cACA,gBACA,MACA,UACA,QACA,cACA,aACA,YACA,OACA,aACA,gBACA,WACA,cACA,WACA,UACA,OACA,UACA,YACA,iBACA,cACA,OACA,aACA,aACA,aACA,SACA,UACA,UACA,OACA,MACA,SACA,SACA,QACA,QACA,WACA,YACA,OACA,QACA,mBACA,MACA,QACA,kBACA,gBACA,cACA,WACA,OACA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A,MAED,2BAA4B,CAC3B,MACA,KAED,cAAe,CACd,MACA,KAED,cAAe,CACd,MACA,KAED,aAAc,CACb,MACA,MAED,YAAa,CACZ,MACA,MAED,iBAAkB,CACjB,MACA,MAED,sBAAuB,CACtB,MACA,MAED,mBAAoB,CACnB,MACA,KAED,aAAc,CACb,MACA,MAED,2BAA4B,CAC3B,MACA,MAED,8BAA+B,CAC9B,MACA,MAED,sBAAuB,CACtB,MACA,MAED,iBAAkB,CACjB,MACA,MAED,yBAA0B,CACzB,KACA,MAED,wBAAyB,CACxB,MACA,MAED,kCAAmC,CAClC,MACA,MAED,yBAA0B,CACzB,MACA,MAED,iBAAkB,CACjB,IACA,KAED,aAAc,CACb,MACA,MAED,aAAc,CACb,MACA,MAED,iBAAkB,CACjB,MACA,MAED,cAAe,CACd,MACA,MAED,cAAe,CACd,MACA,MAED,oBAAqB,CACpB,MACA,MAED,0BAA2B,CAC1B,MACA,MAED,8BAA+B,CAC9B,KACA,MAED,oBAAqB,CACpB,MACA,MAED,eAAgB,CACf,MACA,MAED,YAAa,CACZ,MACA,MAED,kBAAmB,CAClB,MACA,MAED,0BAA2B,CAC1B,MACA,MAED,4BAA6B,CAC5B,MACA,MAED,gCAAiC,CAChC,KACA,MAED,kBAAmB,CAClB,MACA,KAED,sBAAuB,CACtB,MACA,MAED,mBAAoB,CACnB,MACA,MAED,sBAAuB,CACtB,MACA,MAED,kBAAmB,CAClB,MACA,MAED,qBAAsB,CACrB,MACA,MAED,aAAc,CACb,MACA,IAED,eAAgB,CACf,MACA,MAED,qBAAsB,CACrB,MACA,MAED,eAAgB,CACf,MACA,MAED,aAAc,CACb,MACA,MAED,mBAAoB,CACnB,MACA,MAED,aAAc,CACb,KACA,MAED,aAAc,CACb,MACA,MAED,cAAe,CACd,MACA,MAED,eAAgB,CACf,MACA,MAED,mBAAoB,CACnB,MACA,MAED,aAAc,CACb,KACA,MAED,yBAA0B,CACzB,MACA,MAED,aAAc,CACb,MACA,MAED,iBAAkB,CACjB,MACA,MAED,eAAgB,CACf,MACA,MAED,kBAAmB,CAClB,MACA,MAED,wBAAyB,CACxB,MACA,MAED,aAAc,CACb,MACA,MAED,aAAc,CACb,MACA,MAED,kBAAmB,CAClB,MACA,MAED,iBAAkB,CACjB,MACA,MAED,oBAAqB,CACpB,MACA,MAED,sBAAuB,CACtB,KACA,MAED,YAAa,CACZ,MACA,MAED,gBAAiB,CAChB,MACA,MAED,cAAe,CACd,MACA,MAED,oBAAqB,CACpB,KACA,MAED,mBAAoB,CACnB,MACA,MAED,kBAAmB,CAClB,MACA,MAED,aAAc,CACb,MACA,MAED,mBAAoB,CACnB,MACA,MAED,sBAAuB,CACtB,MACA,MAED,iBAAkB,CACjB,KACA,MAED,oBAAqB,CACpB,MACA,MAED,iBAAkB,CACjB,MACA,MAED,gBAAiB,CAChB,MACA,MAED,aAAc,CACb,MACA,MAED,gBAAiB,CAChB,MACA,MAED,kBAAmB,CAClB,MACA,MAED,uBAAwB,CACvB,KACA,MAED,oBAAqB,CACpB,MACA,MAED,aAAc,CACb,MACA,MAED,mBAAoB,CACnB,MACA,MAED,mBAAoB,CACnB,MACA,MAED,mBAAoB,CACnB,MACA,KAED,eAAgB,CACf,MACA,MAED,aAAc,CACb,MACA,MAED,gBAAiB,CAChB,MACA,MAED,gBAAiB,CAChB,KACA,MAED,aAAc,CACb,MACA,MAED,eAAgB,CACf,MACA,KAED,eAAgB,CACf,MACA,MAED,cAAe,CACd,MACA,MAED,cAAe,CACd,MACA,MAED,aAAc,CACb,MACA,KAED,iBAAkB,CACjB,MACA,MAED,kBAAmB,CAClB,MACA,MAED,YAAa,CACZ,MACA,MAED,yBAA0B,CACzB,KACA,MAED,cAAe,CACd,MACA,MAED,YAAa,CACZ,MACA,KAED,aAAc,CACb,MACA,KAED,oBAAqB,CACpB,MACA,MAED,cAAe,CACd,MACA,MAED,wBAAyB,CACxB,MACA,MAED,sBAAuB,CACtB,MACA,KAED,oBAAqB,CACpB,MACA,MAED,aAAc,CACb,MACA,MAED,iBAAkB,CACjB,MACA,MAED,aAAc,CACb,MACA,MAED,gBAAiB,CAChB,KACA,MAED,sBAAuB,CACtB,MACA,MAED,gBAAiB,CAChB,MACA,MAED,gBAAiB,CAChB,KACA,OAGF,SAAS+vB,EAAoBC,GAC5B,IAAIC,EAAoBlF,EAAE/qB,EAAKgwB,GAC9B,OAAO/zB,QAAQC,UAAUM,MAAK,KAC7B,IAAIsY,EAAI,IAAIW,MAAM,uBAAyBua,EAAM,KAEjD,MADAlb,EAAEsa,KAAO,mBACHta,CAAC,IAIT,IAAIob,EAAMlwB,EAAIgwB,GAAMpzB,EAAKszB,EAAI,GAC7B,OAAOD,EAAoBnb,EAAEob,EAAI,IAAI1zB,MAAK,IAClCyzB,EAAoBrzB,IAE7B,CACAmzB,EAAoB1iB,KAAO,IAAO9M,OAAO8M,KAAKrN,GAC9C+vB,EAAoBnzB,GAAK,MACzBuzB,EAAOC,QAAUL,C","sources":["webpack://superset/./src/components/CopyToClipboard/index.jsx","webpack://superset/./src/components/MessageToasts/reducers.js","webpack://superset/./src/utils/common.js","webpack://superset/./packages/superset-ui-core/src/hooks/usePrevious/usePrevious.ts","webpack://superset/./packages/superset-ui-core/src/hooks/useTruncation/useCSSTextTruncation.ts","webpack://superset/./packages/superset-ui-core/src/utils/ensureIsArray.ts","webpack://superset/./src/components/Button/index.tsx","webpack://superset/./src/components/ErrorMessage/ErrorAlert.tsx","webpack://superset/./src/components/ErrorMessage/getErrorMessageComponentRegistry.ts","webpack://superset/./src/components/ErrorMessage/types.ts","webpack://superset/./src/assets/images/icons/transparent.svg?6da7","webpack://superset/./src/components/Icons/Icon.tsx","webpack://superset/./src/components/Icons/AntdEnhanced.tsx","webpack://superset/./src/components/Icons/index.tsx","webpack://superset/./src/components/Label/index.tsx","webpack://superset/./src/components/Loading/index.tsx","webpack://superset/./src/components/MessageToasts/actions.ts","webpack://superset/./src/components/MessageToasts/types.ts","webpack://superset/./src/components/MessageToasts/withToasts.tsx","webpack://superset/./src/components/Modal/Modal.tsx","webpack://superset/./src/components/Pagination/Wrapper.tsx","webpack://superset/./src/components/Pagination/Next.tsx","webpack://superset/./src/components/Pagination/Prev.tsx","webpack://superset/./src/components/Pagination/Item.tsx","webpack://superset/./src/components/Pagination/Ellipsis.tsx","webpack://superset/./src/components/Pagination/index.tsx","webpack://superset/./src/components/Select/AsyncSelect.tsx","webpack://superset/./src/components/Select/CustomTag.tsx","webpack://superset/./src/components/Select/Select.tsx","webpack://superset/./src/components/Select/constants.ts","webpack://superset/./src/utils/rankedSearchCompare.ts","webpack://superset/./src/components/Select/styles.tsx","webpack://superset/./src/components/Select/utils.tsx","webpack://superset/./src/components/TableCollection/index.tsx","webpack://superset/./src/components/TableView/TableView.tsx","webpack://superset/./src/components/Tabs/Tabs.tsx","webpack://superset/./src/components/Tooltip/index.tsx","webpack://superset/./src/reduxUtils.ts","webpack://superset/./src/utils/copy.ts","webpack://superset/./src/utils/errorMessages.ts","webpack://superset/./src/utils/getClientErrorObject.ts","webpack://superset/./src/utils/isBot.ts","webpack://superset/ ^\\.\\/.*\\.svg$ namespace object"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport copyTextToClipboard from 'src/utils/copy';\n\nconst propTypes = {\n  copyNode: PropTypes.node,\n  getText: PropTypes.func,\n  onCopyEnd: PropTypes.func,\n  shouldShowText: PropTypes.bool,\n  text: PropTypes.string,\n  wrapped: PropTypes.bool,\n  tooltipText: PropTypes.string,\n  addDangerToast: PropTypes.func.isRequired,\n  addSuccessToast: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.bool,\n};\n\nconst defaultProps = {\n  copyNode: <span>{t('Copy')}</span>,\n  onCopyEnd: () => {},\n  shouldShowText: true,\n  wrapped: true,\n  tooltipText: t('Copy to clipboard'),\n  hideTooltip: false,\n};\n\nclass CopyToClipboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // bindings\n    this.copyToClipboard = this.copyToClipboard.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick() {\n    if (this.props.getText) {\n      this.props.getText(d => {\n        this.copyToClipboard(Promise.resolve(d));\n      });\n    } else {\n      this.copyToClipboard(Promise.resolve(this.props.text));\n    }\n  }\n\n  getDecoratedCopyNode() {\n    return React.cloneElement(this.props.copyNode, {\n      style: { cursor: 'pointer' },\n      onClick: this.onClick,\n    });\n  }\n\n  copyToClipboard(textToCopy) {\n    copyTextToClipboard(() => textToCopy)\n      .then(() => {\n        this.props.addSuccessToast(t('Copied to clipboard!'));\n      })\n      .catch(() => {\n        this.props.addDangerToast(\n          t(\n            'Sorry, your browser does not support copying. Use Ctrl / Cmd + C!',\n          ),\n        );\n      })\n      .finally(() => {\n        this.props.onCopyEnd();\n      });\n  }\n\n  renderTooltip(cursor) {\n    return (\n      <>\n        {!this.props.hideTooltip ? (\n          <Tooltip\n            id=\"copy-to-clipboard-tooltip\"\n            placement=\"topRight\"\n            style={{ cursor }}\n            title={this.props.tooltipText}\n            trigger={['hover']}\n            arrowPointAtCenter\n          >\n            {this.getDecoratedCopyNode()}\n          </Tooltip>\n        ) : (\n          this.getDecoratedCopyNode()\n        )}\n      </>\n    );\n  }\n\n  renderNotWrapped() {\n    return this.renderTooltip('pointer');\n  }\n\n  renderLink() {\n    return (\n      <span css={{ display: 'inline-flex', alignItems: 'center' }}>\n        {this.props.shouldShowText && this.props.text && (\n          <span className=\"m-r-5\" data-test=\"short-url\">\n            {this.props.text}\n          </span>\n        )}\n        {this.renderTooltip()}\n      </span>\n    );\n  }\n\n  render() {\n    const { wrapped } = this.props;\n    if (!wrapped) {\n      return this.renderNotWrapped();\n    }\n    return this.renderLink();\n  }\n}\n\nexport default withToasts(CopyToClipboard);\n\nCopyToClipboard.propTypes = propTypes;\nCopyToClipboard.defaultProps = defaultProps;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ADD_TOAST, REMOVE_TOAST } from './actions';\n\nexport default function messageToastsReducer(toasts = [], action) {\n  switch (action.type) {\n    case ADD_TOAST: {\n      const { payload: toast } = action;\n      const result = toasts.slice();\n      if (!toast.noDuplicate || !result.find(x => x.text === toast.text)) {\n        return [toast, ...toasts];\n      }\n      return toasts;\n    }\n\n    case REMOVE_TOAST: {\n      const {\n        payload: { id },\n      } = action;\n      return [...toasts].filter(toast => toast.id !== id);\n    }\n\n    default:\n      return toasts;\n  }\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  SupersetClient,\n  getTimeFormatter,\n  TimeFormats,\n  ensureIsArray,\n} from '@superset-ui/core';\n\n// ATTENTION: If you change any constants, make sure to also change constants.py\n\nexport const EMPTY_STRING = '<empty string>';\nexport const NULL_STRING = '<NULL>';\nexport const TRUE_STRING = 'TRUE';\nexport const FALSE_STRING = 'FALSE';\n\n// moment time format strings\nexport const SHORT_DATE = 'MMM D, YYYY';\nexport const SHORT_TIME = 'h:m a';\n\nconst DATETIME_FORMATTER = getTimeFormatter(TimeFormats.DATABASE_DATETIME);\n\nexport function storeQuery(query) {\n  return SupersetClient.post({\n    endpoint: '/kv/store/',\n    postPayload: { data: query },\n  }).then(response => {\n    const baseUrl = window.location.origin + window.location.pathname;\n    const url = `${baseUrl}?id=${response.json.id}`;\n    return url;\n  });\n}\n\nexport function optionLabel(opt) {\n  if (opt === null) {\n    return NULL_STRING;\n  }\n  if (opt === '') {\n    return EMPTY_STRING;\n  }\n  if (opt === true) {\n    return TRUE_STRING;\n  }\n  if (opt === false) {\n    return FALSE_STRING;\n  }\n  if (typeof opt !== 'string' && opt.toString) {\n    return opt.toString();\n  }\n  return opt;\n}\n\nexport function optionValue(opt) {\n  if (opt === null) {\n    return NULL_STRING;\n  }\n  return opt;\n}\n\nexport function optionFromValue(opt) {\n  // From a list of options, handles special values & labels\n  return { value: optionValue(opt), label: optionLabel(opt) };\n}\n\nfunction getColumnName(column) {\n  return column.name || column;\n}\n\nexport function prepareCopyToClipboardTabularData(data, columns) {\n  let result = columns.length\n    ? `${columns.map(getColumnName).join('\\t')}\\n`\n    : '';\n  for (let i = 0; i < data.length; i += 1) {\n    const row = {};\n    for (let j = 0; j < columns.length; j += 1) {\n      // JavaScript does not maintain the order of a mixed set of keys (i.e integers and strings)\n      // the below function orders the keys based on the column names.\n      const key = getColumnName(columns[j]);\n      if (key in data[i]) {\n        row[j] = data[i][key];\n      } else {\n        row[j] = data[i][parseFloat(key)];\n      }\n    }\n    result += `${Object.values(row).join('\\t')}\\n`;\n  }\n  return result;\n}\n\nexport function applyFormattingToTabularData(data, timeFormattedColumns) {\n  if (\n    !data ||\n    data.length === 0 ||\n    ensureIsArray(timeFormattedColumns).length === 0\n  ) {\n    return data;\n  }\n\n  return data.map(row => ({\n    ...row,\n    /* eslint-disable no-underscore-dangle */\n    ...timeFormattedColumns.reduce((acc, colName) => {\n      if (row[colName] !== null && row[colName] !== undefined) {\n        acc[colName] = DATETIME_FORMATTER(row[colName]);\n      }\n      return acc;\n    }, {}),\n  }));\n}\n\nexport const noOp = () => undefined;\n\n// Detects the user's OS through the browser\nexport const detectOS = () => {\n  const { appVersion } = navigator;\n\n  // Leveraging this condition because of stackOverflow\n  // https://stackoverflow.com/questions/11219582/how-to-detect-my-browser-version-and-operating-system-using-javascript\n  if (appVersion.includes('Win')) return 'Windows';\n  if (appVersion.includes('Mac')) return 'MacOS';\n  if (appVersion.includes('X11')) return 'UNIX';\n  if (appVersion.includes('Linux')) return 'Linux';\n\n  return 'Unknown OS';\n};\n\nexport const isSafari = () => {\n  const { userAgent } = navigator;\n\n  return userAgent && /^((?!chrome|android).)*safari/i.test(userAgent);\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useEffect, useRef } from 'react';\n\n/**\n * Pass in a piece of state.\n * This hook returns what the value of that state was in the previous render.\n * Returns undefined (or whatever value you specify) the first time.\n */\nexport function usePrevious<T>(value: T): T | undefined;\nexport function usePrevious<T, INIT>(value: T, initialValue: INIT): T | INIT;\nexport function usePrevious<T>(value: T, initialValue?: any): T {\n  const previous = useRef<T>(initialValue);\n  useEffect(() => {\n    // useEffect runs after the render completes\n    previous.current = value;\n  }, [value]);\n  return previous.current;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { css } from '@emotion/react';\nimport React, { useEffect, useRef, useState } from 'react';\n\n/**\n * Importable CSS that enables text truncation on fixed-width block\n * elements.\n */\nexport const truncationCSS = css`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\n/**\n * This hook encapsulates logic supporting truncation of text via\n * the CSS \"text-overflow: ellipsis;\" feature.  Given the text content\n * to be displayed, this hook returns a ref to attach to the text\n * element and a boolean for whether that element is currently truncated.\n */\nconst useCSSTextTruncation = <T extends HTMLElement>(): [\n  React.RefObject<T>,\n  boolean,\n] => {\n  const [isTruncated, setIsTruncated] = useState(true);\n  const ref = useRef<T>(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const [scrollWidth, setScrollWidth] = useState(0);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    setOffsetWidth(ref.current?.offsetWidth ?? 0);\n    setScrollWidth(ref.current?.scrollWidth ?? 0);\n  });\n\n  useEffect(() => {\n    setIsTruncated(offsetWidth < scrollWidth);\n  }, [offsetWidth, scrollWidth]);\n\n  return [ref, isTruncated];\n};\n\nexport default useCSSTextTruncation;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Ensure a nullable value input is an array. Useful when consolidating\n * input format from a select control.\n */\nexport default function ensureIsArray<T>(value?: T[] | T | null): T[] {\n  if (value === undefined || value === null) {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Children, ReactElement } from 'react';\nimport { kebabCase } from 'lodash';\nimport { mix } from 'polished';\nimport cx from 'classnames';\nimport { AntdButton } from 'src/components';\nimport { useTheme } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { ButtonProps as AntdButtonProps } from 'antd/lib/button';\nimport { TooltipProps } from 'antd/lib/tooltip';\n\nexport type OnClickHandler = React.MouseEventHandler<HTMLElement>;\n\nexport type ButtonStyle =\n  | 'primary'\n  | 'secondary'\n  | 'tertiary'\n  | 'success'\n  | 'warning'\n  | 'danger'\n  | 'default'\n  | 'link'\n  | 'dashed';\n\nexport type ButtonSize = 'default' | 'small' | 'xsmall';\n\nexport type ButtonProps = Omit<AntdButtonProps, 'css'> &\n  Pick<TooltipProps, 'placement'> & {\n    tooltip?: string;\n    className?: string;\n    buttonSize?: ButtonSize;\n    buttonStyle?: ButtonStyle;\n    cta?: boolean;\n    showMarginRight?: boolean;\n  };\n\nexport default function Button(props: ButtonProps) {\n  const {\n    tooltip,\n    placement,\n    disabled = false,\n    buttonSize,\n    buttonStyle,\n    className,\n    cta,\n    children,\n    href,\n    showMarginRight = true,\n    ...restProps\n  } = props;\n\n  const theme = useTheme();\n  const { colors, transitionTiming, borderRadius, typography } = theme;\n  const { primary, grayscale, success, warning, error } = colors;\n\n  let height = 32;\n  let padding = 18;\n  if (buttonSize === 'xsmall') {\n    height = 22;\n    padding = 5;\n  } else if (buttonSize === 'small') {\n    height = 30;\n    padding = 10;\n  }\n\n  let backgroundColor = primary.light4;\n  let backgroundColorHover = mix(0.1, primary.base, primary.light4);\n  let backgroundColorActive = mix(0.25, primary.base, primary.light4);\n  let backgroundColorDisabled = grayscale.light2;\n  let color = primary.dark1;\n  let colorHover = color;\n  let borderWidth = 0;\n  let borderStyle = 'none';\n  let borderColor = 'transparent';\n  let borderColorHover = 'transparent';\n  let borderColorDisabled = 'transparent';\n\n  if (buttonStyle === 'primary') {\n    backgroundColor = primary.base;\n    backgroundColorHover = primary.dark1;\n    backgroundColorActive = mix(0.2, grayscale.dark2, primary.dark1);\n    color = grayscale.light5;\n    colorHover = color;\n  } else if (buttonStyle === 'tertiary' || buttonStyle === 'dashed') {\n    backgroundColor = grayscale.light5;\n    backgroundColorHover = grayscale.light5;\n    backgroundColorActive = grayscale.light5;\n    backgroundColorDisabled = grayscale.light5;\n    borderWidth = 1;\n    borderStyle = buttonStyle === 'dashed' ? 'dashed' : 'solid';\n    borderColor = primary.dark1;\n    borderColorHover = primary.light1;\n    borderColorDisabled = grayscale.light2;\n  } else if (buttonStyle === 'danger') {\n    backgroundColor = error.base;\n    backgroundColorHover = mix(0.1, grayscale.light5, error.base);\n    backgroundColorActive = mix(0.2, grayscale.dark2, error.base);\n    color = grayscale.light5;\n    colorHover = color;\n  } else if (buttonStyle === 'warning') {\n    backgroundColor = warning.base;\n    backgroundColorHover = mix(0.1, grayscale.dark2, warning.base);\n    backgroundColorActive = mix(0.2, grayscale.dark2, warning.base);\n    color = grayscale.light5;\n    colorHover = color;\n  } else if (buttonStyle === 'success') {\n    backgroundColor = success.base;\n    backgroundColorHover = mix(0.1, grayscale.light5, success.base);\n    backgroundColorActive = mix(0.2, grayscale.dark2, success.base);\n    color = grayscale.light5;\n    colorHover = color;\n  } else if (buttonStyle === 'link') {\n    backgroundColor = 'transparent';\n    backgroundColorHover = 'transparent';\n    backgroundColorActive = 'transparent';\n    colorHover = primary.base;\n  }\n\n  const element = children as ReactElement;\n\n  let renderedChildren = [];\n  if (element && element.type === React.Fragment) {\n    renderedChildren = Children.toArray(element.props.children);\n  } else {\n    renderedChildren = Children.toArray(children);\n  }\n  const firstChildMargin =\n    showMarginRight && renderedChildren.length > 1 ? theme.gridUnit * 2 : 0;\n\n  const button = (\n    <AntdButton\n      href={disabled ? undefined : href}\n      disabled={disabled}\n      className={cx(className, 'superset-button', { cta: !!cta })}\n      css={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        lineHeight: 1.5715,\n        fontSize: typography.sizes.s,\n        fontWeight: typography.weights.bold,\n        height,\n        textTransform: 'uppercase',\n        padding: `0px ${padding}px`,\n        transition: `all ${transitionTiming}s`,\n        minWidth: cta ? theme.gridUnit * 36 : undefined,\n        minHeight: cta ? theme.gridUnit * 8 : undefined,\n        boxShadow: 'none',\n        borderWidth,\n        borderStyle,\n        borderColor,\n        borderRadius,\n        color,\n        backgroundColor,\n        '&:hover': {\n          color: colorHover,\n          backgroundColor: backgroundColorHover,\n          borderColor: borderColorHover,\n        },\n        '&:active': {\n          color,\n          backgroundColor: backgroundColorActive,\n        },\n        '&:focus': {\n          color,\n          backgroundColor,\n          borderColor,\n        },\n        '&[disabled], &[disabled]:hover': {\n          color: grayscale.base,\n          backgroundColor:\n            buttonStyle === 'link' ? 'transparent' : backgroundColorDisabled,\n          borderColor:\n            buttonStyle === 'link' ? 'transparent' : borderColorDisabled,\n          pointerEvents: 'none',\n        },\n        marginLeft: 0,\n        '& + .superset-button': {\n          marginLeft: theme.gridUnit * 2,\n        },\n        '& > :first-of-type': {\n          marginRight: firstChildMargin,\n        },\n      }}\n      {...restProps}\n    >\n      {children}\n    </AntdButton>\n  );\n\n  if (tooltip) {\n    return (\n      <Tooltip\n        placement={placement}\n        id={`${kebabCase(tooltip)}-tooltip`}\n        title={tooltip}\n      >\n        {/* wrap the button in a span so that the tooltip shows up\n        when the button is disabled. */}\n        {disabled ? (\n          <span\n            css={{\n              cursor: 'not-allowed',\n              '& > .superset-button': {\n                marginLeft: theme.gridUnit * 2,\n              },\n            }}\n          >\n            {button}\n          </span>\n        ) : (\n          button\n        )}\n      </Tooltip>\n    );\n  }\n\n  return button;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, ReactNode } from 'react';\nimport { styled, useTheme, t } from '@superset-ui/core';\nimport { noOp } from 'src/utils/common';\nimport Modal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport { isCurrentUserBot } from 'src/utils/isBot';\n\nimport Icons from 'src/components/Icons';\nimport { ErrorLevel, ErrorSource } from './types';\nimport CopyToClipboard from '../CopyToClipboard';\n\nconst ErrorAlertDiv = styled.div<{ level: ErrorLevel }>`\n  align-items: center;\n  background-color: ${({ level, theme }) => theme.colors[level].light2};\n  border-radius: ${({ theme }) => theme.borderRadius}px;\n  border: 1px solid ${({ level, theme }) => theme.colors[level].base};\n  color: ${({ level, theme }) => theme.colors[level].dark2};\n  padding: ${({ theme }) => 2 * theme.gridUnit}px;\n  width: 100%;\n\n  .top-row {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .error-body {\n    padding-top: ${({ theme }) => theme.gridUnit}px;\n    padding-left: ${({ theme }) => 8 * theme.gridUnit}px;\n  }\n\n  .icon {\n    margin-right: ${({ theme }) => 2 * theme.gridUnit}px;\n  }\n\n  .link {\n    color: ${({ level, theme }) => theme.colors[level].dark2};\n    text-decoration: underline;\n  }\n`;\n\nconst ErrorModal = styled(Modal)<{ level: ErrorLevel }>`\n  color: ${({ level, theme }) => theme.colors[level].dark2};\n  overflow-wrap: break-word;\n\n  .ant-modal-header {\n    background-color: ${({ level, theme }) => theme.colors[level].light2};\n    padding: ${({ theme }) => 4 * theme.gridUnit}px;\n  }\n\n  .icon {\n    margin-right: ${({ theme }) => 2 * theme.gridUnit}px;\n  }\n\n  .header {\n    display: flex;\n    align-items: center;\n    font-size: ${({ theme }) => theme.typography.sizes.l}px;\n  }\n`;\n\nconst LeftSideContent = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\ninterface ErrorAlertProps {\n  body: ReactNode;\n  copyText?: string;\n  level: ErrorLevel;\n  source?: ErrorSource;\n  subtitle: ReactNode;\n  title: ReactNode;\n  description?: string;\n}\n\nexport default function ErrorAlert({\n  body,\n  copyText,\n  level = 'error',\n  source = 'dashboard',\n  subtitle,\n  title,\n  description,\n}: ErrorAlertProps) {\n  const theme = useTheme();\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isBodyExpanded, setIsBodyExpanded] = useState(isCurrentUserBot());\n\n  const isExpandable =\n    isCurrentUserBot() || ['explore', 'sqllab'].includes(source);\n  const iconColor = theme.colors[level].base;\n\n  return (\n    <ErrorAlertDiv level={level} role=\"alert\">\n      <div className=\"top-row\">\n        <LeftSideContent>\n          {level === 'error' ? (\n            <Icons.ErrorSolid className=\"icon\" iconColor={iconColor} />\n          ) : (\n            <Icons.WarningSolid className=\"icon\" iconColor={iconColor} />\n          )}\n          <strong>{title}</strong>\n        </LeftSideContent>\n        {!isExpandable && !description && (\n          <span\n            role=\"button\"\n            tabIndex={0}\n            className=\"link\"\n            onClick={() => setIsModalOpen(true)}\n          >\n            {t('See more')}\n          </span>\n        )}\n      </div>\n      {description && (\n        <div className=\"error-body\">\n          <p>{description}</p>\n          {!isExpandable && (\n            <span\n              role=\"button\"\n              tabIndex={0}\n              className=\"link\"\n              onClick={() => setIsModalOpen(true)}\n            >\n              {t('See more')}\n            </span>\n          )}\n        </div>\n      )}\n      {isExpandable ? (\n        <div className=\"error-body\">\n          <p>{subtitle}</p>\n          {body && (\n            <>\n              {!isBodyExpanded && (\n                <span\n                  role=\"button\"\n                  tabIndex={0}\n                  className=\"link\"\n                  onClick={() => setIsBodyExpanded(true)}\n                >\n                  {t('See more')}\n                </span>\n              )}\n              {isBodyExpanded && (\n                <>\n                  <br />\n                  {body}\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"link\"\n                    onClick={() => setIsBodyExpanded(false)}\n                  >\n                    {t('See less')}\n                  </span>\n                </>\n              )}\n            </>\n          )}\n        </div>\n      ) : (\n        <ErrorModal\n          level={level}\n          show={isModalOpen}\n          onHide={() => setIsModalOpen(false)}\n          title={\n            <div className=\"header\">\n              {level === 'error' ? (\n                <Icons.ErrorSolid className=\"icon\" iconColor={iconColor} />\n              ) : (\n                <Icons.WarningSolid className=\"icon\" iconColor={iconColor} />\n              )}\n              <div className=\"title\">{title}</div>\n            </div>\n          }\n          footer={\n            <>\n              {copyText && (\n                <CopyToClipboard\n                  text={copyText}\n                  shouldShowText={false}\n                  wrapped={false}\n                  copyNode={<Button onClick={noOp}>{t('Copy message')}</Button>}\n                />\n              )}\n              <Button\n                cta\n                buttonStyle=\"primary\"\n                onClick={() => setIsModalOpen(false)}\n              >\n                {t('Close')}\n              </Button>\n            </>\n          }\n        >\n          <>\n            <p>{subtitle}</p>\n            {/* This break was in the original design of the modal but\n            the spacing looks really off if there is only\n            subtitle or a body */}\n            {subtitle && body && <br />}\n            {body}\n          </>\n        </ErrorModal>\n      )}\n    </ErrorAlertDiv>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Registry, makeSingleton, OverwritePolicy } from '@superset-ui/core';\nimport { ErrorMessageComponent } from './types';\n\nclass ErrorMessageComponentRegistry extends Registry<\n  ErrorMessageComponent,\n  ErrorMessageComponent\n> {\n  constructor() {\n    super({\n      name: 'ErrorMessageComponent',\n      overwritePolicy: OverwritePolicy.ALLOW,\n    });\n  }\n}\n\nconst getErrorMessageComponentRegistry = makeSingleton(\n  ErrorMessageComponentRegistry,\n);\n\nexport default getErrorMessageComponentRegistry;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// Keep in sync with superset/views/errors.py\nexport const ErrorTypeEnum = {\n  // Frontend errors\n  FRONTEND_CSRF_ERROR: 'FRONTEND_CSRF_ERROR',\n  FRONTEND_NETWORK_ERROR: 'FRONTEND_NETWORK_ERROR',\n  FRONTEND_TIMEOUT_ERROR: 'FRONTEND_TIMEOUT_ERROR',\n\n  // DB Engine errors\n  GENERIC_DB_ENGINE_ERROR: 'GENERIC_DB_ENGINE_ERROR',\n  COLUMN_DOES_NOT_EXIST_ERROR: 'COLUMN_DOES_NOT_EXIST_ERROR',\n  TABLE_DOES_NOT_EXIST_ERROR: 'TABLE_DOES_NOT_EXIST_ERROR',\n  SCHEMA_DOES_NOT_EXIST_ERROR: 'SCHEMA_DOES_NOT_EXIST_ERROR',\n  CONNECTION_INVALID_USERNAME_ERROR: 'CONNECTION_INVALID_USERNAME_ERROR',\n  CONNECTION_INVALID_PASSWORD_ERROR: 'CONNECTION_INVALID_PASSWORD_ERROR',\n  CONNECTION_INVALID_HOSTNAME_ERROR: 'CONNECTION_INVALID_HOSTNAME_ERROR',\n  CONNECTION_PORT_CLOSED_ERROR: 'CONNECTION_PORT_CLOSED_ERROR',\n  CONNECTION_INVALID_PORT_ERROR: 'CONNECTION_INVALID_PORT_ERROR',\n  CONNECTION_HOST_DOWN_ERROR: 'CONNECTION_HOST_DOWN_ERROR',\n  CONNECTION_ACCESS_DENIED_ERROR: 'CONNECTION_ACCESS_DENIED_ERROR',\n  CONNECTION_UNKNOWN_DATABASE_ERROR: 'CONNECTION_UNKNOWN_DATABASE_ERROR',\n  CONNECTION_DATABASE_PERMISSIONS_ERROR:\n    'CONNECTION_DATABASE_PERMISSIONS_ERROR',\n  CONNECTION_MISSING_PARAMETERS_ERRORS: 'CONNECTION_MISSING_PARAMETERS_ERRORS',\n  OBJECT_DOES_NOT_EXIST_ERROR: 'OBJECT_DOES_NOT_EXIST_ERROR',\n  SYNTAX_ERROR: 'SYNTAX_ERROR',\n\n  // Viz errors\n  VIZ_GET_DF_ERROR: 'VIZ_GET_DF_ERROR',\n  UNKNOWN_DATASOURCE_TYPE_ERROR: 'UNKNOWN_DATASOURCE_TYPE_ERROR',\n  FAILED_FETCHING_DATASOURCE_INFO_ERROR:\n    'FAILED_FETCHING_DATASOURCE_INFO_ERROR',\n\n  // Security access errors\n  TABLE_SECURITY_ACCESS_ERROR: 'TABLE_SECURITY_ACCESS_ERROR',\n  DATASOURCE_SECURITY_ACCESS_ERROR: 'DATASOURCE_SECURITY_ACCESS_ERROR',\n  DATABASE_SECURITY_ACCESS_ERROR: 'DATABASE_SECURITY_ACCESS_ERROR',\n  QUERY_SECURITY_ACCESS_ERROR: 'QUERY_SECURITY_ACCESS_ERROR',\n  MISSING_OWNERSHIP_ERROR: 'MISSING_OWNERSHIP_ERROR',\n  DASHBOARD_SECURITY_ACCESS_ERROR: 'DASHBOARD_SECURITY_ACCESS_ERROR',\n\n  // Other errors\n  BACKEND_TIMEOUT_ERROR: 'BACKEND_TIMEOUT_ERROR',\n  DATABASE_NOT_FOUND_ERROR: 'DATABASE_NOT_FOUND_ERROR',\n\n  // Sqllab error\n  MISSING_TEMPLATE_PARAMS_ERROR: 'MISSING_TEMPLATE_PARAMS_ERROR',\n  INVALID_TEMPLATE_PARAMS_ERROR: 'INVALID_TEMPLATE_PARAMS_ERROR',\n  RESULTS_BACKEND_NOT_CONFIGURED_ERROR: 'RESULTS_BACKEND_NOT_CONFIGURED_ERROR',\n  DML_NOT_ALLOWED_ERROR: 'DML_NOT_ALLOWED_ERROR',\n  INVALID_CTAS_QUERY_ERROR: 'INVALID_CTAS_QUERY_ERROR',\n  INVALID_CVAS_QUERY_ERROR: 'INVALID_CVAS_QUERY_ERROR',\n  SQLLAB_TIMEOUT_ERROR: 'SQLLAB_TIMEOUT_ERROR',\n  RESULTS_BACKEND_ERROR: 'RESULTS_BACKEND_ERROR',\n  ASYNC_WORKERS_ERROR: 'ASYNC_WORKERS_ERROR',\n\n  // Generic errors\n  GENERIC_COMMAND_ERROR: 'GENERIC_COMMAND_ERROR',\n  GENERIC_BACKEND_ERROR: 'GENERIC_BACKEND_ERROR',\n\n  // API errors\n  INVALID_PAYLOAD_FORMAT_ERROR: 'INVALID_PAYLOAD_FORMAT_ERROR',\n  INVALID_PAYLOAD_SCHEMA_ERROR: 'INVALID_PAYLOAD_SCHEMA_ERROR',\n} as const;\n\ntype ValueOf<T> = T[keyof T];\n\nexport type ErrorType = ValueOf<typeof ErrorTypeEnum>;\n\n// Keep in sync with superset/views/errors.py\nexport type ErrorLevel = 'info' | 'warning' | 'error';\n\nexport type ErrorSource = 'dashboard' | 'explore' | 'sqllab';\n\nexport type SupersetError<ExtraType = Record<string, any> | null> = {\n  error_type: ErrorType;\n  extra: ExtraType;\n  level: ErrorLevel;\n  message: string;\n};\n\nexport type ErrorMessageComponentProps<ExtraType = Record<string, any> | null> =\n  {\n    error: SupersetError<ExtraType>;\n    source?: ErrorSource;\n    subtitle?: React.ReactNode;\n  };\n\nexport type ErrorMessageComponent =\n  React.ComponentType<ErrorMessageComponentProps>;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgTransparent(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgTransparent);\nexport default ForwardRef;","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport AntdIcon from '@ant-design/icons';\nimport { styled } from '@superset-ui/core';\nimport TransparentIcon from 'src/assets/images/icons/transparent.svg';\nimport IconType from './IconType';\n\nconst AntdIconComponent = ({\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  iconColor,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  iconSize,\n  viewBox,\n  ...rest\n}: Omit<IconType, 'ref' | 'css'>) => (\n  <AntdIcon viewBox={viewBox || '0 0 24 24'} {...rest} />\n);\n\nexport const StyledIcon = styled(AntdIconComponent)<IconType>`\n  ${({ iconColor }) => iconColor && `color: ${iconColor};`};\n  font-size: ${({ iconSize, theme }) =>\n    iconSize\n      ? `${theme.typography.sizes[iconSize] || theme.typography.sizes.m}px`\n      : '24px'};\n`;\n\nexport interface IconProps extends IconType {\n  fileName: string;\n}\n\nexport const Icon = (props: IconProps) => {\n  const { fileName, ...iconProps } = props;\n  const [, setLoaded] = useState(false);\n  const ImportedSVG = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const name = fileName.replace('_', '-');\n\n  useEffect(() => {\n    let cancelled = false;\n    async function importIcon(): Promise<void> {\n      ImportedSVG.current = (\n        await import(\n          `!!@svgr/webpack?-svgo,+titleProp,+ref!src/assets/images/icons/${fileName}.svg`\n        )\n      ).default;\n      if (!cancelled) {\n        setLoaded(true);\n      }\n    }\n    importIcon();\n    return () => {\n      cancelled = true;\n    };\n  }, [fileName, ImportedSVG]);\n\n  return (\n    <StyledIcon\n      component={ImportedSVG.current || TransparentIcon}\n      aria-label={name}\n      {...iconProps}\n    />\n  );\n};\n\nexport default Icon;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport * as AntdIcons from '@ant-design/icons/lib/icons';\nimport { StyledIcon } from './Icon';\nimport IconType from './IconType';\n\nconst AntdEnhancedIcons = Object.keys(AntdIcons)\n  .filter(k => !k.includes('TwoTone'))\n  .map(k => ({\n    [k]: (props: IconType) => (\n      <StyledIcon component={AntdIcons[k]} {...props} />\n    ),\n  }))\n  .reduce((l, r) => ({ ...l, ...r }));\n\nexport default AntdEnhancedIcons;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport _ from 'lodash';\nimport AntdEnhancedIcons from './AntdEnhanced';\nimport Icon from './Icon';\nimport IconType from './IconType';\n\nconst IconFileNames = [\n  'alert',\n  'alert_solid',\n  'alert_solid_small',\n  'area-chart-tile',\n  'bar-chart-tile',\n  'big-number-chart-tile',\n  'binoculars',\n  'bolt',\n  'bolt_small',\n  'bolt_small_run',\n  'calendar',\n  'cancel',\n  'cancel_solid',\n  'cancel-x',\n  'card_view',\n  'cards',\n  'cards_locked',\n  'caret_down',\n  'caret_left',\n  'caret_right',\n  'caret_up',\n  'certified',\n  'check',\n  'checkbox-half',\n  'checkbox-off',\n  'checkbox-on',\n  'circle_check',\n  'circle_check_solid',\n  'circle',\n  'clock',\n  'close',\n  'code',\n  'cog',\n  'collapse',\n  'color_palette',\n  'current-rendered-tile',\n  'components',\n  'copy',\n  'cursor_target',\n  'database',\n  'dataset_physical',\n  'dataset_virtual_greyscale',\n  'dataset_virtual',\n  'download',\n  'drag',\n  'edit_alt',\n  'edit',\n  'email',\n  'error',\n  'error_solid',\n  'error_solid_small',\n  'exclamation',\n  'expand',\n  'eye',\n  'eye_slash',\n  'favorite-selected',\n  'favorite_small_selected',\n  'favorite-unselected',\n  'field_abc',\n  'field_boolean',\n  'field_date',\n  'field_derived',\n  'field_num',\n  'field_struct',\n  'file',\n  'filter',\n  'filter_small',\n  'folder',\n  'full',\n  'function_x',\n  'gear',\n  'grid',\n  'image',\n  'import',\n  'info',\n  'info-solid',\n  'info_solid_small',\n  'join',\n  'keyboard',\n  'layers',\n  'lightbulb',\n  'line-chart-tile',\n  'link',\n  'list',\n  'list_view',\n  'location',\n  'lock_locked',\n  'lock_unlocked',\n  'map',\n  'message',\n  'minus',\n  'minus_solid',\n  'more_horiz',\n  'more_vert',\n  'move',\n  'nav_charts',\n  'nav_dashboard',\n  'nav_data',\n  'nav_explore',\n  'nav_home',\n  'nav_lab',\n  'note',\n  'offline',\n  'paperclip',\n  'pie-chart-tile',\n  'placeholder',\n  'plus',\n  'plus_large',\n  'plus_small',\n  'plus_solid',\n  'queued',\n  'refresh',\n  'running',\n  'save',\n  'sql',\n  'search',\n  'server',\n  'share',\n  'slack',\n  'sort_asc',\n  'sort_desc',\n  'sort',\n  'table',\n  'table-chart-tile',\n  'tag',\n  'trash',\n  'triangle_change',\n  'triangle_down',\n  'triangle_up',\n  'up-level',\n  'user',\n  'warning',\n  'warning_solid',\n  'x-large',\n  'x-small',\n  'tags',\n  'ballot',\n  'category',\n  'undo',\n  'redo',\n];\n\nconst iconOverrides: Record<string, React.FC<IconType>> = {};\nIconFileNames.forEach(fileName => {\n  const keyName = _.startCase(fileName).replace(/ /g, '');\n  iconOverrides[keyName] = (props: IconType) => (\n    <Icon fileName={fileName} {...props} />\n  );\n});\n\nexport type { IconType };\n\nexport default {\n  ...AntdEnhancedIcons,\n  ...iconOverrides,\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { CSSProperties } from 'react';\nimport { Tag } from 'src/components';\nimport { useTheme } from '@superset-ui/core';\n\nexport type OnClickHandler = React.MouseEventHandler<HTMLElement>;\n\nexport type Type =\n  | 'alert'\n  | 'success'\n  | 'warning'\n  | 'danger'\n  | 'info'\n  | 'default'\n  | 'primary'\n  | 'secondary';\n\nexport interface LabelProps extends React.HTMLAttributes<HTMLSpanElement> {\n  key?: string;\n  className?: string;\n  onClick?: OnClickHandler;\n  type?: Type;\n  style?: CSSProperties;\n  children?: React.ReactNode;\n  role?: string;\n}\n\nexport default function Label(props: LabelProps) {\n  const theme = useTheme();\n  const { colors, transitionTiming } = theme;\n  const { type = 'default', onClick, children, ...rest } = props;\n  const {\n    alert,\n    primary,\n    secondary,\n    grayscale,\n    success,\n    warning,\n    error,\n    info,\n  } = colors;\n\n  let backgroundColor = grayscale.light3;\n  let backgroundColorHover = onClick ? primary.light2 : grayscale.light3;\n  let borderColor = onClick ? grayscale.light2 : 'transparent';\n  let borderColorHover = onClick ? primary.light1 : 'transparent';\n  let color = grayscale.dark1;\n\n  if (type !== 'default') {\n    color = grayscale.light4;\n\n    let baseColor;\n    if (type === 'alert') {\n      color = grayscale.dark1;\n      baseColor = alert;\n    } else if (type === 'success') {\n      baseColor = success;\n    } else if (type === 'warning') {\n      baseColor = warning;\n    } else if (type === 'danger') {\n      baseColor = error;\n    } else if (type === 'info') {\n      baseColor = info;\n    } else if (type === 'secondary') {\n      baseColor = secondary;\n    } else {\n      baseColor = primary;\n    }\n\n    backgroundColor = baseColor.base;\n    backgroundColorHover = onClick ? baseColor.dark1 : baseColor.base;\n    borderColor = onClick ? baseColor.dark1 : 'transparent';\n    borderColorHover = onClick ? baseColor.dark2 : 'transparent';\n  }\n\n  return (\n    <Tag\n      onClick={onClick}\n      {...rest}\n      css={{\n        transition: `background-color ${transitionTiming}s`,\n        whiteSpace: 'nowrap',\n        cursor: onClick ? 'pointer' : 'default',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        backgroundColor,\n        borderColor,\n        borderRadius: 21,\n        padding: '0.35em 0.8em',\n        lineHeight: 1,\n        color,\n        maxWidth: '100%',\n        '&:hover': {\n          backgroundColor: backgroundColorHover,\n          borderColor: borderColorHover,\n          opacity: 1,\n        },\n      }}\n    >\n      {children}\n    </Tag>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { styled } from '@superset-ui/core';\nimport cls from 'classnames';\nimport Loader from 'src/assets/images/loading.gif';\n\nexport type PositionOption =\n  | 'floating'\n  | 'inline'\n  | 'inline-centered'\n  | 'normal';\nexport interface Props {\n  position?: PositionOption;\n  className?: string;\n  image?: string;\n}\n\nconst LoaderImg = styled.img`\n  z-index: 99;\n  width: 50px;\n  height: unset;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.inline-centered {\n    margin: 0 auto;\n    width: 30px;\n    display: block;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\nexport default function Loading({\n  position = 'floating',\n  image,\n  className,\n}: Props) {\n  return (\n    <LoaderImg\n      className={cls('loading', position, className)}\n      alt=\"Loading...\"\n      src={image || Loader}\n      role=\"status\"\n      aria-live=\"polite\"\n      aria-label=\"Loading\"\n      data-test=\"loading-indicator\"\n    />\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport shortid from 'shortid';\nimport { ToastType, ToastMeta } from './types';\n\ntype ToastOptions = Partial<Omit<ToastMeta, 'id' | 'toastType' | 'text'>>;\n\nexport function getToastUuid(type: ToastType) {\n  return `${type}-${shortid.generate()}`;\n}\n\nexport const ADD_TOAST = 'ADD_TOAST';\nexport function addToast({\n  toastType,\n  text,\n  duration = 8000,\n  noDuplicate = false,\n}: Omit<ToastMeta, 'id'>) {\n  return {\n    type: ADD_TOAST,\n    payload: {\n      id: getToastUuid(toastType),\n      toastType,\n      text,\n      duration,\n      noDuplicate,\n    },\n  };\n}\n\nexport const REMOVE_TOAST = 'REMOVE_TOAST';\nexport function removeToast(id: string) {\n  return {\n    type: REMOVE_TOAST,\n    payload: {\n      id,\n    },\n  };\n}\n\n// Different types of toasts\nexport const ADD_INFO_TOAST = 'ADD_INFO_TOAST';\nexport function addInfoToast(text: string, options?: ToastOptions) {\n  return addToast({\n    text,\n    toastType: ToastType.INFO,\n    duration: 4000,\n    ...options,\n  });\n}\n\nexport const ADD_SUCCESS_TOAST = 'ADD_SUCCESS_TOAST';\nexport function addSuccessToast(text: string, options?: ToastOptions) {\n  return addToast({\n    text,\n    toastType: ToastType.SUCCESS,\n    duration: 4000,\n    ...options,\n  });\n}\n\nexport const ADD_WARNING_TOAST = 'ADD_WARNING_TOAST';\nexport function addWarningToast(text: string, options?: ToastOptions) {\n  return addToast({\n    text,\n    toastType: ToastType.WARNING,\n    duration: 6000,\n    ...options,\n  });\n}\n\nexport const ADD_DANGER_TOAST = 'ADD_DANGER_TOAST';\nexport function addDangerToast(text: string, options?: ToastOptions) {\n  return addToast({\n    text,\n    toastType: ToastType.DANGER,\n    duration: 8000,\n    ...options,\n  });\n}\n\nexport const toastActions = {\n  addInfoToast,\n  addSuccessToast,\n  addWarningToast,\n  addDangerToast,\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport enum ToastType {\n  INFO = 'INFO_TOAST',\n  SUCCESS = 'SUCCESS_TOAST',\n  WARNING = 'WARNING_TOAST',\n  DANGER = 'DANGER_TOAST',\n}\n\nexport interface ToastMeta {\n  id: string;\n  toastType: ToastType;\n  text: string;\n  duration: number;\n  /** Whether to skip displaying this message if there are another toast\n   * with the same message. */\n  noDuplicate?: boolean;\n  /** For security reasons, HTML rendering is disabled by default. Use this property to enable it. */\n  allowHtml?: boolean;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { ComponentType, useMemo } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect, useDispatch } from 'react-redux';\n\nimport {\n  addDangerToast,\n  addInfoToast,\n  addSuccessToast,\n  addWarningToast,\n} from './actions';\n\nexport interface ToastProps {\n  addDangerToast: typeof addDangerToast;\n  addInfoToast: typeof addInfoToast;\n  addSuccessToast: typeof addSuccessToast;\n  addWarningToast: typeof addWarningToast;\n}\n\n/** just action creators, these do not dispatch */\nexport const toasters = {\n  addInfoToast,\n  addSuccessToast,\n  addWarningToast,\n  addDangerToast,\n};\n\n// To work properly the redux state must have a `messageToasts` subtree\nexport default function withToasts(BaseComponent: ComponentType<any>) {\n  return connect(null, dispatch => bindActionCreators(toasters, dispatch))(\n    BaseComponent,\n  ) as any;\n  // Redux has some confusing typings that cause problems for consumers of this function.\n  // If someone can fix the types, great, but for now it's just any.\n}\n\nexport function useToasts() {\n  const dispatch = useDispatch();\n  return useMemo(() => bindActionCreators(toasters, dispatch), [dispatch]);\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  CSSProperties,\n  ReactNode,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { isNil } from 'lodash';\nimport { ModalFuncProps } from 'antd/lib/modal';\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport { AntdModal, AntdModalProps } from 'src/components';\nimport Button from 'src/components/Button';\nimport { Resizable, ResizableProps } from 're-resizable';\nimport Draggable, {\n  DraggableBounds,\n  DraggableData,\n  DraggableEvent,\n  DraggableProps,\n} from 'react-draggable';\n\nexport interface ModalProps {\n  className?: string;\n  children: ReactNode;\n  disablePrimaryButton?: boolean;\n  primaryButtonLoading?: boolean;\n  onHide: () => void;\n  onHandledPrimaryAction?: () => void;\n  primaryButtonName?: string;\n  primaryButtonType?: 'primary' | 'danger';\n  show: boolean;\n  name?: string;\n  title: ReactNode;\n  width?: string;\n  maxWidth?: string;\n  responsive?: boolean;\n  hideFooter?: boolean;\n  centered?: boolean;\n  footer?: ReactNode;\n  wrapProps?: object;\n  height?: string;\n  closable?: boolean;\n  resizable?: boolean;\n  resizableConfig?: ResizableProps;\n  draggable?: boolean;\n  draggableConfig?: DraggableProps;\n  destroyOnClose?: boolean;\n  maskClosable?: boolean;\n  zIndex?: number;\n  bodyStyle?: CSSProperties;\n}\n\ninterface StyledModalProps {\n  maxWidth?: string;\n  responsive?: boolean;\n  height?: string;\n  hideFooter?: boolean;\n  draggable?: boolean;\n  resizable?: boolean;\n}\n\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\n\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\n\nconst BaseModal = (props: AntdModalProps) => (\n  // Removes mask animation. Fixed in 4.6.0.\n  // https://github.com/ant-design/ant-design/issues/27192\n  <AntdModal {...props} maskTransitionName=\"\" />\n);\n\nexport const StyledModal = styled(BaseModal)<StyledModalProps>`\n  ${({ theme, responsive, maxWidth }) =>\n    responsive &&\n    css`\n      max-width: ${maxWidth ?? '900px'};\n      padding-left: ${theme.gridUnit * 3}px;\n      padding-right: ${theme.gridUnit * 3}px;\n      padding-bottom: 0;\n      top: 0;\n    `}\n\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    max-height: ${({ theme }) => `calc(100vh - ${theme.gridUnit * 8}px)`};\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: ${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  .ant-modal-header {\n    flex: 0 0 auto;\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding-left: ${({ theme }) => theme.gridUnit * 4}px;\n    padding-right: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .ant-modal-body {\n    flex: 0 1 auto;\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .ant-modal-footer {\n    flex: 0 0 1;\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) =>\n    draggable &&\n    `\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) =>\n    resizable &&\n    `\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${\n            hideFooter\n              ? `calc(100% - ${MODAL_HEADER_HEIGHT}px);`\n              : `calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`\n          }\n        }\n      }\n    }\n  `}\n`;\nconst defaultResizableConfig = (hideFooter: boolean | undefined) => ({\n  maxHeight: RESIZABLE_MAX_HEIGHT,\n  maxWidth: RESIZABLE_MAX_WIDTH,\n  minHeight: hideFooter\n    ? RESIZABLE_MIN_HEIGHT\n    : RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n  minWidth: RESIZABLE_MIN_WIDTH,\n  enable: {\n    bottom: true,\n    bottomLeft: false,\n    bottomRight: true,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n    right: true,\n  },\n});\n\nconst CustomModal = ({\n  children,\n  disablePrimaryButton = false,\n  primaryButtonLoading = false,\n  onHide,\n  onHandledPrimaryAction,\n  primaryButtonName = t('OK'),\n  primaryButtonType = 'primary',\n  show,\n  name,\n  title,\n  width,\n  maxWidth,\n  responsive = false,\n  centered,\n  footer,\n  hideFooter,\n  wrapProps,\n  draggable = false,\n  resizable = false,\n  resizableConfig = defaultResizableConfig(hideFooter),\n  draggableConfig,\n  destroyOnClose,\n  ...rest\n}: ModalProps) => {\n  const draggableRef = useRef<HTMLDivElement>(null);\n  const [bounds, setBounds] = useState<DraggableBounds>();\n  const [dragDisabled, setDragDisabled] = useState<boolean>(true);\n  let FooterComponent;\n  if (React.isValidElement(footer)) {\n    // If a footer component is provided inject a closeModal function\n    // so the footer can provide a \"close\" button if desired\n    FooterComponent = React.cloneElement(footer, { closeModal: onHide });\n  }\n  const modalFooter = isNil(FooterComponent)\n    ? [\n        <Button key=\"back\" onClick={onHide} cta data-test=\"modal-cancel-button\">\n          {t('Cancel')}\n        </Button>,\n        <Button\n          key=\"submit\"\n          buttonStyle={primaryButtonType}\n          disabled={disablePrimaryButton}\n          loading={primaryButtonLoading}\n          onClick={onHandledPrimaryAction}\n          cta\n          data-test=\"modal-confirm-button\"\n        >\n          {primaryButtonName}\n        </Button>,\n      ]\n    : FooterComponent;\n\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n\n  const onDragStart = (_: DraggableEvent, uiData: DraggableData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = draggableRef?.current?.getBoundingClientRect();\n\n    if (targetRect) {\n      setBounds({\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n      });\n    }\n  };\n\n  const getResizableConfig = useMemo(() => {\n    if (Object.keys(resizableConfig).length === 0) {\n      return defaultResizableConfig(hideFooter);\n    }\n    return resizableConfig;\n  }, [hideFooter, resizableConfig]);\n\n  const ModalTitle = () =>\n    draggable ? (\n      <div\n        className=\"draggable-trigger\"\n        onMouseOver={() => dragDisabled && setDragDisabled(false)}\n        onMouseOut={() => !dragDisabled && setDragDisabled(true)}\n      >\n        {title}\n      </div>\n    ) : (\n      <>{title}</>\n    );\n\n  return (\n    <StyledModal\n      centered={!!centered}\n      onOk={onHandledPrimaryAction}\n      onCancel={onHide}\n      width={modalWidth}\n      maxWidth={maxWidth}\n      responsive={responsive}\n      visible={show}\n      title={<ModalTitle />}\n      closeIcon={\n        <span className=\"close\" aria-hidden=\"true\">\n          ×\n        </span>\n      }\n      footer={!hideFooter ? modalFooter : null}\n      hideFooter={hideFooter}\n      wrapProps={{ 'data-test': `${name || title}-modal`, ...wrapProps }}\n      modalRender={modal =>\n        resizable || draggable ? (\n          <Draggable\n            disabled={!draggable || dragDisabled}\n            bounds={bounds}\n            onStart={(event, uiData) => onDragStart(event, uiData)}\n            {...draggableConfig}\n          >\n            {resizable ? (\n              <Resizable className=\"resizable\" {...getResizableConfig}>\n                <div className=\"resizable-wrapper\" ref={draggableRef}>\n                  {modal}\n                </div>\n              </Resizable>\n            ) : (\n              <div ref={draggableRef}>{modal}</div>\n            )}\n          </Draggable>\n        ) : (\n          modal\n        )\n      }\n      mask={shouldShowMask}\n      draggable={draggable}\n      resizable={resizable}\n      destroyOnClose={destroyOnClose}\n      {...rest}\n    >\n      {children}\n    </StyledModal>\n  );\n};\nCustomModal.displayName = 'Modal';\n\n// Ant Design 4 does not allow overriding Modal's buttons when\n// using one of the pre-defined functions. Ant Design 5 Modal introduced\n// the footer property that will allow that. Meanwhile, we're replicating\n// Button style using global CSS in src/GlobalStyles.tsx.\n// TODO: Replace this logic when on Ant Design 5.\nconst buttonProps = {\n  okButtonProps: { className: 'modal-functions-ok-button' },\n  cancelButtonProps: { className: 'modal-functions-cancel-button' },\n};\n\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: (config: ModalFuncProps) =>\n    AntdModal.error({ ...config, ...buttonProps }),\n  warning: (config: ModalFuncProps) =>\n    AntdModal.warning({ ...config, ...buttonProps }),\n  confirm: (config: ModalFuncProps) =>\n    AntdModal.confirm({ ...config, ...buttonProps }),\n  useModal: AntdModal.useModal,\n});\n\nexport default Modal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { styled } from '@superset-ui/core';\nimport { Next } from './Next';\nimport { Prev } from './Prev';\nimport { Item } from './Item';\nimport { Ellipsis } from './Ellipsis';\n\ninterface PaginationProps {\n  children: JSX.Element | JSX.Element[];\n}\n\nconst PaginationList = styled.ul`\n  display: inline-block;\n  margin: 16px 0;\n  padding: 0;\n\n  li {\n    display: inline;\n    margin: 0 4px;\n\n    span {\n      padding: 8px 12px;\n      text-decoration: none;\n      background-color: ${({ theme }) => theme.colors.grayscale.light5};\n      border-radius: ${({ theme }) => theme.borderRadius}px;\n\n      &:hover,\n      &:focus {\n        z-index: 2;\n        color: ${({ theme }) => theme.colors.grayscale.dark1};\n        background-color: ${({ theme }) => theme.colors.grayscale.light3};\n      }\n    }\n\n    &.disabled {\n      span {\n        background-color: transparent;\n        cursor: default;\n\n        &:focus {\n          outline: none;\n        }\n      }\n    }\n    &.active {\n      span {\n        z-index: 3;\n        color: ${({ theme }) => theme.colors.grayscale.light5};\n        cursor: default;\n        background-color: ${({ theme }) => theme.colors.primary.base};\n\n        &:focus {\n          outline: none;\n        }\n      }\n    }\n  }\n`;\n\nfunction Pagination({ children }: PaginationProps) {\n  return <PaginationList role=\"navigation\">{children}</PaginationList>;\n}\n\nPagination.Next = Next;\nPagination.Prev = Prev;\nPagination.Item = Item;\nPagination.Ellipsis = Ellipsis;\n\nexport default Pagination;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { PaginationButtonProps } from './types';\n\nexport function Next({ disabled, onClick }: PaginationButtonProps) {\n  return (\n    <li className={classNames({ disabled })}>\n      <span\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        onClick={e => {\n          e.preventDefault();\n          if (!disabled) onClick(e);\n        }}\n      >\n        »\n      </span>\n    </li>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { PaginationButtonProps } from './types';\n\nexport function Prev({ disabled, onClick }: PaginationButtonProps) {\n  return (\n    <li className={classNames({ disabled })}>\n      <span\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        onClick={e => {\n          e.preventDefault();\n          if (!disabled) onClick(e);\n        }}\n      >\n        «\n      </span>\n    </li>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { PaginationButtonProps } from './types';\n\ninterface PaginationItemButton extends PaginationButtonProps {\n  active?: boolean;\n  children: React.ReactNode;\n}\n\nexport function Item({ active, children, onClick }: PaginationItemButton) {\n  return (\n    <li className={classNames({ active })}>\n      <span\n        role=\"button\"\n        tabIndex={active ? -1 : 0}\n        onClick={e => {\n          e.preventDefault();\n          if (!active) onClick(e);\n        }}\n      >\n        {children}\n      </span>\n    </li>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { PaginationButtonProps } from './types';\n\nexport function Ellipsis({ disabled, onClick }: PaginationButtonProps) {\n  return (\n    <li className={classNames({ disabled })}>\n      <span\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        onClick={e => {\n          e.preventDefault();\n          if (!disabled) onClick(e);\n        }}\n      >\n        …\n      </span>\n    </li>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport Pagination from 'src/components/Pagination/Wrapper';\nimport {\n  createUltimatePagination,\n  ITEM_TYPES,\n} from 'react-ultimate-pagination';\n\nconst ListViewPagination = createUltimatePagination({\n  WrapperComponent: Pagination,\n  itemTypeToComponent: {\n    [ITEM_TYPES.PAGE]: ({ value, isActive, onClick }) => (\n      <Pagination.Item active={isActive} onClick={onClick}>\n        {value}\n      </Pagination.Item>\n    ),\n    [ITEM_TYPES.ELLIPSIS]: ({ isActive, onClick }) => (\n      <Pagination.Ellipsis disabled={isActive} onClick={onClick} />\n    ),\n    [ITEM_TYPES.PREVIOUS_PAGE_LINK]: ({ isActive, onClick }) => (\n      <Pagination.Prev disabled={isActive} onClick={onClick} />\n    ),\n    [ITEM_TYPES.NEXT_PAGE_LINK]: ({ isActive, onClick }) => (\n      <Pagination.Next disabled={isActive} onClick={onClick} />\n    ),\n    [ITEM_TYPES.FIRST_PAGE_LINK]: () => null,\n    [ITEM_TYPES.LAST_PAGE_LINK]: () => null,\n  },\n});\n\nexport default ListViewPagination;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  forwardRef,\n  ReactElement,\n  RefObject,\n  UIEvent,\n  useEffect,\n  useMemo,\n  useState,\n  useRef,\n  useCallback,\n  useImperativeHandle,\n  ClipboardEvent,\n} from 'react';\nimport { ensureIsArray, t, usePrevious } from '@superset-ui/core';\nimport { LabeledValue as AntdLabeledValue } from 'antd/lib/select';\nimport debounce from 'lodash/debounce';\nimport { isEqual, uniq } from 'lodash';\nimport Icons from 'src/components/Icons';\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\nimport { FAST_DEBOUNCE, SLOW_DEBOUNCE } from 'src/constants';\nimport {\n  getValue,\n  hasOption,\n  isLabeledValue,\n  renderSelectOptions,\n  hasCustomLabels,\n  sortSelectedFirstHelper,\n  sortComparatorWithSearchHelper,\n  sortComparatorForNoSearchHelper,\n  getSuffixIcon,\n  dropDownRenderHelper,\n  handleFilterOptionHelper,\n  mapOptions,\n  getOption,\n  isObject,\n} from './utils';\nimport {\n  AsyncSelectProps,\n  AsyncSelectRef,\n  SelectOptionsPagePromise,\n  SelectOptionsType,\n  SelectOptionsTypePage,\n  SelectProps,\n} from './types';\nimport {\n  StyledCheckOutlined,\n  StyledContainer,\n  StyledError,\n  StyledErrorMessage,\n  StyledHeader,\n  StyledSelect,\n  StyledStopOutlined,\n} from './styles';\nimport {\n  DEFAULT_PAGE_SIZE,\n  EMPTY_OPTIONS,\n  MAX_TAG_COUNT,\n  TOKEN_SEPARATORS,\n  DEFAULT_SORT_COMPARATOR,\n} from './constants';\nimport { customTagRender } from './CustomTag';\n\nconst Error = ({ error }: { error: string }) => (\n  <StyledError>\n    <Icons.ErrorSolid /> <StyledErrorMessage>{error}</StyledErrorMessage>\n  </StyledError>\n);\n\nconst getQueryCacheKey = (value: string, page: number, pageSize: number) =>\n  `${value};${page};${pageSize}`;\n\n/**\n * This component is a customized version of the Antdesign 4.X Select component\n * https://ant.design/components/select/.\n * The aim of the component was to combine all the instances of select components throughout the\n * project under one and to remove the react-select component entirely.\n * This Select component provides an API that is tested against all the different use cases of Superset.\n * It limits and overrides the existing Antdesign API in order to keep their usage to the minimum\n * and to enforce simplification and standardization.\n * It is divided into two macro categories, Static and Async.\n * The Static type accepts a static array of options.\n * The Async type accepts a promise that will return the options.\n * Each of the categories come with different abilities. For a comprehensive guide please refer to\n * the storybook in src/components/Select/Select.stories.tsx.\n */\nconst AsyncSelect = forwardRef(\n  (\n    {\n      allowClear,\n      allowNewOptions = false,\n      ariaLabel,\n      autoClearSearchValue = false,\n      fetchOnlyOnSearch,\n      filterOption = true,\n      header = null,\n      headerPosition = 'top',\n      helperText,\n      invertSelection = false,\n      lazyLoading = true,\n      loading,\n      mode = 'single',\n      name,\n      notFoundContent,\n      onBlur,\n      onError,\n      onChange,\n      onClear,\n      onDropdownVisibleChange,\n      onDeselect,\n      onSearch,\n      onSelect,\n      optionFilterProps = ['label', 'value'],\n      options,\n      pageSize = DEFAULT_PAGE_SIZE,\n      placeholder = t('Select ...'),\n      showSearch = true,\n      sortComparator = DEFAULT_SORT_COMPARATOR,\n      tokenSeparators = TOKEN_SEPARATORS,\n      value,\n      getPopupContainer,\n      oneLine,\n      maxTagCount: propsMaxTagCount,\n      ...props\n    }: AsyncSelectProps,\n    ref: RefObject<AsyncSelectRef>,\n  ) => {\n    const isSingleMode = mode === 'single';\n    const [selectValue, setSelectValue] = useState(value);\n    const [inputValue, setInputValue] = useState('');\n    const [isLoading, setIsLoading] = useState(loading);\n    const [error, setError] = useState('');\n    const [isDropdownVisible, setIsDropdownVisible] = useState(false);\n    const [page, setPage] = useState(0);\n    const [totalCount, setTotalCount] = useState(0);\n    const [loadingEnabled, setLoadingEnabled] = useState(!lazyLoading);\n    const [allValuesLoaded, setAllValuesLoaded] = useState(false);\n    const selectValueRef = useRef(selectValue);\n    const fetchedQueries = useRef(new Map<string, number>());\n    const mappedMode = isSingleMode ? undefined : 'multiple';\n    const allowFetch = !fetchOnlyOnSearch || inputValue;\n    const [maxTagCount, setMaxTagCount] = useState(\n      propsMaxTagCount ?? MAX_TAG_COUNT,\n    );\n    const [onChangeCount, setOnChangeCount] = useState(0);\n    const previousChangeCount = usePrevious(onChangeCount, 0);\n\n    const fireOnChange = useCallback(\n      () => setOnChangeCount(onChangeCount + 1),\n      [onChangeCount],\n    );\n\n    useEffect(() => {\n      if (oneLine) {\n        setMaxTagCount(isDropdownVisible ? 0 : 1);\n      }\n    }, [isDropdownVisible, oneLine]);\n\n    useEffect(() => {\n      selectValueRef.current = selectValue;\n    }, [selectValue]);\n\n    const sortSelectedFirst = useCallback(\n      (a: AntdLabeledValue, b: AntdLabeledValue) =>\n        sortSelectedFirstHelper(a, b, selectValueRef.current),\n      [],\n    );\n\n    const sortComparatorWithSearch = useCallback(\n      (a: AntdLabeledValue, b: AntdLabeledValue) =>\n        sortComparatorWithSearchHelper(\n          a,\n          b,\n          inputValue,\n          sortSelectedFirst,\n          sortComparator,\n        ),\n      [inputValue, sortComparator, sortSelectedFirst],\n    );\n\n    const sortComparatorForNoSearch = useCallback(\n      (a: AntdLabeledValue, b: AntdLabeledValue) =>\n        sortComparatorForNoSearchHelper(\n          a,\n          b,\n          sortSelectedFirst,\n          sortComparator,\n        ),\n      [sortComparator, sortSelectedFirst],\n    );\n\n    const [selectOptions, setSelectOptions] =\n      useState<SelectOptionsType>(EMPTY_OPTIONS);\n\n    // add selected values to options list if they are not in it\n    const fullSelectOptions = useMemo(() => {\n      const missingValues: SelectOptionsType = ensureIsArray(selectValue)\n        .filter(opt => !hasOption(getValue(opt), selectOptions))\n        .map(opt =>\n          isLabeledValue(opt) ? opt : { value: opt, label: String(opt) },\n        );\n      return missingValues.length > 0\n        ? missingValues.concat(selectOptions)\n        : selectOptions;\n    }, [selectOptions, selectValue]);\n\n    const handleOnSelect: SelectProps['onSelect'] = (selectedItem, option) => {\n      if (isSingleMode) {\n        setSelectValue(selectedItem);\n      } else {\n        setSelectValue(previousState => {\n          const array = ensureIsArray(previousState);\n          const value = getValue(selectedItem);\n          // Tokenized values can contain duplicated values\n          if (!hasOption(value, array)) {\n            const result = [...array, selectedItem];\n            return isLabeledValue(selectedItem)\n              ? (result as AntdLabeledValue[])\n              : (result as (string | number)[]);\n          }\n          return previousState;\n        });\n      }\n      fireOnChange();\n      onSelect?.(selectedItem, option);\n    };\n\n    const handleOnDeselect: SelectProps['onDeselect'] = (value, option) => {\n      if (Array.isArray(selectValue)) {\n        if (isLabeledValue(value)) {\n          const array = selectValue as AntdLabeledValue[];\n          setSelectValue(\n            array.filter(element => element.value !== value.value),\n          );\n        } else {\n          const array = selectValue as (string | number)[];\n          setSelectValue(array.filter(element => element !== value));\n        }\n        // removes new option\n        if (option.isNewOption) {\n          setSelectOptions(\n            fullSelectOptions.filter(\n              option => getValue(option.value) !== getValue(value),\n            ),\n          );\n        }\n      }\n      fireOnChange();\n      onDeselect?.(value, option);\n    };\n\n    const internalOnError = useCallback(\n      (response: Response) =>\n        getClientErrorObject(response).then(e => {\n          const { error } = e;\n          setError(error);\n\n          if (onError) {\n            onError(error);\n          }\n        }),\n      [onError],\n    );\n\n    const mergeData = useCallback(\n      (data: SelectOptionsType) => {\n        let mergedData: SelectOptionsType = [];\n        if (data && Array.isArray(data) && data.length) {\n          // unique option values should always be case sensitive so don't lowercase\n          const dataValues = new Set(data.map(opt => opt.value));\n          // merges with existing and creates unique options\n          setSelectOptions(prevOptions => {\n            mergedData = prevOptions\n              .filter(previousOption => !dataValues.has(previousOption.value))\n              .concat(data)\n              .sort(sortComparatorForNoSearch);\n            return mergedData;\n          });\n        }\n        return mergedData;\n      },\n      [sortComparatorForNoSearch],\n    );\n\n    const fetchPage = useMemo(\n      () => (search: string, page: number) => {\n        setPage(page);\n        if (allValuesLoaded) {\n          setIsLoading(false);\n          return;\n        }\n        const key = getQueryCacheKey(search, page, pageSize);\n        const cachedCount = fetchedQueries.current.get(key);\n        if (cachedCount !== undefined) {\n          setTotalCount(cachedCount);\n          setIsLoading(false);\n          return;\n        }\n        setIsLoading(true);\n\n        const fetchOptions = options as SelectOptionsPagePromise;\n        fetchOptions(search, page, pageSize)\n          .then(({ data, totalCount }: SelectOptionsTypePage) => {\n            const mergedData = mergeData(data);\n            fetchedQueries.current.set(key, totalCount);\n            setTotalCount(totalCount);\n            if (\n              !fetchOnlyOnSearch &&\n              search === '' &&\n              mergedData.length >= totalCount\n            ) {\n              setAllValuesLoaded(true);\n            }\n          })\n          .catch(internalOnError)\n          .finally(() => {\n            setIsLoading(false);\n          });\n      },\n      [\n        allValuesLoaded,\n        fetchOnlyOnSearch,\n        mergeData,\n        internalOnError,\n        options,\n        pageSize,\n      ],\n    );\n\n    const debouncedFetchPage = useMemo(\n      () => debounce(fetchPage, SLOW_DEBOUNCE),\n      [fetchPage],\n    );\n\n    const handleOnSearch = debounce((search: string) => {\n      const searchValue = search.trim();\n      if (allowNewOptions) {\n        const newOption = searchValue &&\n          !hasOption(searchValue, fullSelectOptions, true) && {\n            label: searchValue,\n            value: searchValue,\n            isNewOption: true,\n          };\n        const cleanSelectOptions = fullSelectOptions.filter(\n          opt => !opt.isNewOption || hasOption(opt.value, selectValue),\n        );\n        const newOptions = newOption\n          ? [newOption, ...cleanSelectOptions]\n          : cleanSelectOptions;\n        setSelectOptions(newOptions);\n      }\n      if (\n        !allValuesLoaded &&\n        loadingEnabled &&\n        !fetchedQueries.current.has(getQueryCacheKey(searchValue, 0, pageSize))\n      ) {\n        // if fetch only on search but search value is empty, then should not be\n        // in loading state\n        setIsLoading(!(fetchOnlyOnSearch && !searchValue));\n      }\n      setInputValue(search);\n      onSearch?.(searchValue);\n    }, FAST_DEBOUNCE);\n\n    useEffect(() => () => handleOnSearch.cancel(), [handleOnSearch]);\n\n    const handlePagination = (e: UIEvent<HTMLElement>) => {\n      const vScroll = e.currentTarget;\n      const thresholdReached =\n        vScroll.scrollTop > (vScroll.scrollHeight - vScroll.offsetHeight) * 0.7;\n      const hasMoreData = page * pageSize + pageSize < totalCount;\n\n      if (!isLoading && hasMoreData && thresholdReached) {\n        const newPage = page + 1;\n        fetchPage(inputValue, newPage);\n      }\n    };\n\n    const handleFilterOption = (search: string, option: AntdLabeledValue) =>\n      handleFilterOptionHelper(search, option, optionFilterProps, filterOption);\n\n    const handleOnDropdownVisibleChange = (isDropdownVisible: boolean) => {\n      setIsDropdownVisible(isDropdownVisible);\n\n      // loading is enabled when dropdown is open,\n      // disabled when dropdown is closed\n      if (loadingEnabled !== isDropdownVisible) {\n        setLoadingEnabled(isDropdownVisible);\n      }\n      // when closing dropdown, always reset loading state\n      if (!isDropdownVisible && isLoading) {\n        // delay is for the animation of closing the dropdown\n        // so the dropdown doesn't flash between \"Loading...\" and \"No data\"\n        // before closing.\n        setTimeout(() => {\n          setIsLoading(false);\n        }, 250);\n      }\n      // if no search input value, force sort options because it won't be sorted by\n      // `filterSort`.\n      if (isDropdownVisible && !inputValue && selectOptions.length > 1) {\n        const sortedOptions = selectOptions\n          .slice()\n          .sort(sortComparatorForNoSearch);\n        if (!isEqual(sortedOptions, selectOptions)) {\n          setSelectOptions(sortedOptions);\n        }\n      }\n\n      if (onDropdownVisibleChange) {\n        onDropdownVisibleChange(isDropdownVisible);\n      }\n    };\n\n    const dropdownRender = (\n      originNode: ReactElement & { ref?: RefObject<HTMLElement> },\n    ) =>\n      dropDownRenderHelper(\n        originNode,\n        isDropdownVisible,\n        isLoading,\n        fullSelectOptions.length,\n        helperText,\n        error ? <Error error={error} /> : undefined,\n      );\n\n    const handleClear = () => {\n      setSelectValue(undefined);\n      if (onClear) {\n        onClear();\n      }\n      fireOnChange();\n    };\n\n    const handleOnBlur = (event: React.FocusEvent<HTMLElement>) => {\n      setInputValue('');\n      onBlur?.(event);\n    };\n\n    useEffect(() => {\n      if (onChangeCount !== previousChangeCount) {\n        const array = ensureIsArray(selectValue);\n        const set = new Set(array.map(getValue));\n        const options = mapOptions(\n          fullSelectOptions.filter(opt => set.has(opt.value)),\n        );\n        if (isSingleMode) {\n          // @ts-ignore\n          onChange?.(selectValue, options[0]);\n        } else {\n          // @ts-ignore\n          onChange?.(array, options);\n        }\n      }\n    }, [\n      fullSelectOptions,\n      isSingleMode,\n      onChange,\n      onChangeCount,\n      previousChangeCount,\n      selectValue,\n    ]);\n\n    useEffect(() => {\n      // when `options` list is updated from component prop, reset states\n      fetchedQueries.current.clear();\n      setAllValuesLoaded(false);\n      setSelectOptions(EMPTY_OPTIONS);\n    }, [options]);\n\n    useEffect(() => {\n      setSelectValue(value);\n    }, [value]);\n\n    // Stop the invocation of the debounced function after unmounting\n    useEffect(\n      () => () => {\n        debouncedFetchPage.cancel();\n      },\n      [debouncedFetchPage],\n    );\n\n    useEffect(() => {\n      if (loadingEnabled && allowFetch) {\n        // trigger fetch every time inputValue changes\n        if (inputValue) {\n          debouncedFetchPage(inputValue, 0);\n        } else {\n          fetchPage('', 0);\n        }\n      }\n    }, [loadingEnabled, fetchPage, allowFetch, inputValue, debouncedFetchPage]);\n\n    useEffect(() => {\n      if (loading !== undefined && loading !== isLoading) {\n        setIsLoading(loading);\n      }\n    }, [isLoading, loading]);\n\n    const clearCache = () => fetchedQueries.current.clear();\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        ...(ref.current as HTMLInputElement),\n        clearCache,\n      }),\n      [ref],\n    );\n\n    const getPastedTextValue = useCallback(\n      (text: string) => {\n        const option = getOption(text, fullSelectOptions, true);\n        const value: AntdLabeledValue = {\n          label: text,\n          value: text,\n        };\n        if (option) {\n          value.label = isObject(option) ? option.label : option;\n          value.value = isObject(option) ? option.value! : option;\n        }\n        return value;\n      },\n      [fullSelectOptions],\n    );\n\n    const onPaste = (e: ClipboardEvent<HTMLInputElement>) => {\n      const pastedText = e.clipboardData.getData('text');\n      if (isSingleMode) {\n        setSelectValue(getPastedTextValue(pastedText));\n      } else {\n        const token = tokenSeparators.find(token => pastedText.includes(token));\n        const array = token ? uniq(pastedText.split(token)) : [pastedText];\n        const values = array.map(item => getPastedTextValue(item));\n        setSelectValue(previous => [\n          ...((previous || []) as AntdLabeledValue[]),\n          ...values,\n        ]);\n      }\n    };\n\n    const shouldRenderChildrenOptions = useMemo(\n      () => hasCustomLabels(fullSelectOptions),\n      [fullSelectOptions],\n    );\n\n    return (\n      <StyledContainer headerPosition={headerPosition}>\n        {header && (\n          <StyledHeader headerPosition={headerPosition}>{header}</StyledHeader>\n        )}\n        <StyledSelect\n          allowClear={!isLoading && allowClear}\n          aria-label={ariaLabel || name}\n          autoClearSearchValue={autoClearSearchValue}\n          dropdownRender={dropdownRender}\n          filterOption={handleFilterOption}\n          filterSort={sortComparatorWithSearch}\n          getPopupContainer={\n            getPopupContainer || (triggerNode => triggerNode.parentNode)\n          }\n          headerPosition={headerPosition}\n          labelInValue\n          maxTagCount={maxTagCount}\n          mode={mappedMode}\n          notFoundContent={isLoading ? t('Loading...') : notFoundContent}\n          onBlur={handleOnBlur}\n          onDeselect={handleOnDeselect}\n          onDropdownVisibleChange={handleOnDropdownVisibleChange}\n          // @ts-ignore\n          onPaste={onPaste}\n          onPopupScroll={handlePagination}\n          onSearch={showSearch ? handleOnSearch : undefined}\n          onSelect={handleOnSelect}\n          onClear={handleClear}\n          options={shouldRenderChildrenOptions ? undefined : fullSelectOptions}\n          placeholder={placeholder}\n          showSearch={showSearch}\n          showArrow\n          tokenSeparators={tokenSeparators}\n          value={selectValue}\n          suffixIcon={getSuffixIcon(isLoading, showSearch, isDropdownVisible)}\n          menuItemSelectedIcon={\n            invertSelection ? (\n              <StyledStopOutlined iconSize=\"m\" aria-label=\"stop\" />\n            ) : (\n              <StyledCheckOutlined iconSize=\"m\" aria-label=\"check\" />\n            )\n          }\n          oneLine={oneLine}\n          tagRender={customTagRender}\n          {...props}\n          ref={ref}\n        >\n          {hasCustomLabels(fullSelectOptions) &&\n            renderSelectOptions(fullSelectOptions)}\n        </StyledSelect>\n      </StyledContainer>\n    );\n  },\n);\n\nexport default AsyncSelect;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Tag as AntdTag } from 'antd';\nimport { styled, useCSSTextTruncation } from '@superset-ui/core';\nimport { Tooltip } from '../Tooltip';\nimport { CustomTagProps } from './types';\nimport { SELECT_ALL_VALUE } from './utils';\nimport { NoElement } from './styles';\n\nconst StyledTag = styled(AntdTag)`\n  & .ant-tag-close-icon {\n    display: inline-flex;\n    align-items: center;\n    margin-left: ${({ theme }) => theme.gridUnit}px;\n  }\n\n  & .tag-content {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\n// TODO: use antd Tag props instead of any. Currently it's causing a typescript error\nconst Tag = (props: any) => {\n  const [tagRef, tagIsTruncated] = useCSSTextTruncation<HTMLSpanElement>();\n  return (\n    <Tooltip title={tagIsTruncated ? props.children : null}>\n      <StyledTag {...props} className=\"ant-select-selection-item\">\n        <span className=\"tag-content\" ref={tagRef}>\n          {props.children}\n        </span>\n      </StyledTag>\n    </Tooltip>\n  );\n};\n\n/**\n * Custom tag renderer\n */\nexport const customTagRender = (props: CustomTagProps) => {\n  const { label, value } = props;\n\n  const onPreventMouseDown = (event: React.MouseEvent<HTMLElement>) => {\n    // if close icon is clicked, stop propagation to avoid opening the dropdown\n    const target = event.target as HTMLElement;\n    if (\n      target.tagName === 'svg' ||\n      target.tagName === 'path' ||\n      (target.tagName === 'span' &&\n        target.className.includes('ant-tag-close-icon'))\n    ) {\n      event.stopPropagation();\n    }\n  };\n\n  if (value !== SELECT_ALL_VALUE) {\n    return (\n      <Tag onMouseDown={onPreventMouseDown} {...(props as object)}>\n        {label}\n      </Tag>\n    );\n  }\n  return <NoElement />;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  forwardRef,\n  ReactElement,\n  RefObject,\n  useEffect,\n  useMemo,\n  useState,\n  useCallback,\n  ClipboardEvent,\n} from 'react';\nimport {\n  ensureIsArray,\n  formatNumber,\n  NumberFormats,\n  t,\n  usePrevious,\n} from '@superset-ui/core';\nimport AntdSelect, { LabeledValue as AntdLabeledValue } from 'antd/lib/select';\nimport { debounce, isEqual, uniq } from 'lodash';\nimport { FAST_DEBOUNCE } from 'src/constants';\nimport {\n  getValue,\n  hasOption,\n  isLabeledValue,\n  renderSelectOptions,\n  sortSelectedFirstHelper,\n  sortComparatorWithSearchHelper,\n  handleFilterOptionHelper,\n  dropDownRenderHelper,\n  getSuffixIcon,\n  SELECT_ALL_VALUE,\n  selectAllOption,\n  mapValues,\n  mapOptions,\n  hasCustomLabels,\n  getOption,\n  isObject,\n} from './utils';\nimport { RawValue, SelectOptionsType, SelectProps } from './types';\nimport {\n  StyledCheckOutlined,\n  StyledContainer,\n  StyledHeader,\n  StyledSelect,\n  StyledStopOutlined,\n} from './styles';\nimport {\n  EMPTY_OPTIONS,\n  MAX_TAG_COUNT,\n  TOKEN_SEPARATORS,\n  DEFAULT_SORT_COMPARATOR,\n} from './constants';\nimport { customTagRender } from './CustomTag';\n\n/**\n * This component is a customized version of the Antdesign 4.X Select component\n * https://ant.design/components/select/.\n * The aim of the component was to combine all the instances of select components throughout the\n * project under one and to remove the react-select component entirely.\n * This Select component provides an API that is tested against all the different use cases of Superset.\n * It limits and overrides the existing Antdesign API in order to keep their usage to the minimum\n * and to enforce simplification and standardization.\n * It is divided into two macro categories, Static and Async.\n * The Static type accepts a static array of options.\n * The Async type accepts a promise that will return the options.\n * Each of the categories come with different abilities. For a comprehensive guide please refer to\n * the storybook in src/components/Select/Select.stories.tsx.\n */\nconst Select = forwardRef(\n  (\n    {\n      allowClear,\n      allowNewOptions = false,\n      allowSelectAll = true,\n      ariaLabel,\n      autoClearSearchValue = false,\n      filterOption = true,\n      header = null,\n      headerPosition = 'top',\n      helperText,\n      invertSelection = false,\n      labelInValue = false,\n      loading,\n      mode = 'single',\n      name,\n      notFoundContent,\n      onBlur,\n      onChange,\n      onClear,\n      onDropdownVisibleChange,\n      onDeselect,\n      onSearch,\n      onSelect,\n      optionFilterProps = ['label', 'value'],\n      options,\n      placeholder = t('Select ...'),\n      showSearch = true,\n      sortComparator = DEFAULT_SORT_COMPARATOR,\n      tokenSeparators = TOKEN_SEPARATORS,\n      value,\n      getPopupContainer,\n      oneLine,\n      maxTagCount: propsMaxTagCount,\n      ...props\n    }: SelectProps,\n    ref: RefObject<HTMLInputElement>,\n  ) => {\n    const isSingleMode = mode === 'single';\n    const shouldShowSearch = allowNewOptions ? true : showSearch;\n    const [selectValue, setSelectValue] = useState(value);\n    const [inputValue, setInputValue] = useState('');\n    const [isLoading, setIsLoading] = useState(loading);\n    const [isDropdownVisible, setIsDropdownVisible] = useState(false);\n    const [maxTagCount, setMaxTagCount] = useState(\n      propsMaxTagCount ?? MAX_TAG_COUNT,\n    );\n    const [onChangeCount, setOnChangeCount] = useState(0);\n    const previousChangeCount = usePrevious(onChangeCount, 0);\n\n    const fireOnChange = useCallback(\n      () => setOnChangeCount(onChangeCount + 1),\n      [onChangeCount],\n    );\n\n    useEffect(() => {\n      if (oneLine) {\n        setMaxTagCount(isDropdownVisible ? 0 : 1);\n      }\n    }, [isDropdownVisible, oneLine]);\n\n    const mappedMode = isSingleMode ? undefined : 'multiple';\n\n    const { Option } = AntdSelect;\n\n    const sortSelectedFirst = useCallback(\n      (a: AntdLabeledValue, b: AntdLabeledValue) =>\n        sortSelectedFirstHelper(a, b, selectValue),\n      [selectValue],\n    );\n    const sortComparatorWithSearch = useCallback(\n      (a: AntdLabeledValue, b: AntdLabeledValue) =>\n        sortComparatorWithSearchHelper(\n          a,\n          b,\n          inputValue,\n          sortSelectedFirst,\n          sortComparator,\n        ),\n      [inputValue, sortComparator, sortSelectedFirst],\n    );\n\n    const initialOptions = useMemo(\n      () => (Array.isArray(options) ? options.slice() : EMPTY_OPTIONS),\n      [options],\n    );\n    const initialOptionsSorted = useMemo(\n      () => initialOptions.slice().sort(sortSelectedFirst),\n      [initialOptions, sortSelectedFirst],\n    );\n\n    const [selectOptions, setSelectOptions] =\n      useState<SelectOptionsType>(initialOptionsSorted);\n\n    // add selected values to options list if they are not in it\n    const fullSelectOptions = useMemo(() => {\n      const missingValues: SelectOptionsType = ensureIsArray(selectValue)\n        .filter(opt => !hasOption(getValue(opt), selectOptions))\n        .map(opt =>\n          isLabeledValue(opt) ? opt : { value: opt, label: String(opt) },\n        );\n      const result =\n        missingValues.length > 0\n          ? missingValues.concat(selectOptions)\n          : selectOptions;\n      return result.filter(opt => opt.value !== SELECT_ALL_VALUE);\n    }, [selectOptions, selectValue]);\n\n    const enabledOptions = useMemo(\n      () => fullSelectOptions.filter(option => !option.disabled),\n      [fullSelectOptions],\n    );\n\n    const selectAllEligible = useMemo(\n      () =>\n        fullSelectOptions.filter(\n          option => hasOption(option.value, selectValue) || !option.disabled,\n        ),\n      [fullSelectOptions, selectValue],\n    );\n\n    const selectAllEnabled = useMemo(\n      () =>\n        !isSingleMode &&\n        allowSelectAll &&\n        selectOptions.length > 0 &&\n        enabledOptions.length > 1 &&\n        !inputValue,\n      [\n        isSingleMode,\n        allowSelectAll,\n        selectOptions.length,\n        enabledOptions.length,\n        inputValue,\n      ],\n    );\n\n    const selectAllMode = useMemo(\n      () => ensureIsArray(selectValue).length === selectAllEligible.length + 1,\n      [selectValue, selectAllEligible],\n    );\n\n    const handleOnSelect: SelectProps['onSelect'] = (selectedItem, option) => {\n      if (isSingleMode) {\n        setSelectValue(selectedItem);\n      } else {\n        setSelectValue(previousState => {\n          const array = ensureIsArray(previousState);\n          const value = getValue(selectedItem);\n          // Tokenized values can contain duplicated values\n          if (value === getValue(SELECT_ALL_VALUE)) {\n            if (isLabeledValue(selectedItem)) {\n              return [\n                ...selectAllEligible,\n                selectAllOption,\n              ] as AntdLabeledValue[];\n            }\n            return [\n              SELECT_ALL_VALUE,\n              ...selectAllEligible.map(opt => opt.value),\n            ] as AntdLabeledValue[];\n          }\n          if (!hasOption(value, array)) {\n            const result = [...array, selectedItem];\n            if (\n              result.length === selectAllEligible.length &&\n              selectAllEnabled\n            ) {\n              return isLabeledValue(selectedItem)\n                ? ([...result, selectAllOption] as AntdLabeledValue[])\n                : ([...result, SELECT_ALL_VALUE] as (string | number)[]);\n            }\n            return result as AntdLabeledValue[];\n          }\n          return previousState;\n        });\n      }\n      fireOnChange();\n      onSelect?.(selectedItem, option);\n    };\n\n    const clear = () => {\n      if (isSingleMode) {\n        setSelectValue(undefined);\n      } else {\n        setSelectValue(\n          fullSelectOptions\n            .filter(\n              option => option.disabled && hasOption(option.value, selectValue),\n            )\n            .map(option =>\n              labelInValue\n                ? { label: option.label, value: option.value }\n                : option.value,\n            ),\n        );\n        fireOnChange();\n      }\n    };\n\n    const handleOnDeselect: SelectProps['onDeselect'] = (value, option) => {\n      if (Array.isArray(selectValue)) {\n        if (getValue(value) === getValue(SELECT_ALL_VALUE)) {\n          clear();\n        } else {\n          let array = selectValue as AntdLabeledValue[];\n          array = array.filter(\n            element => getValue(element) !== getValue(value),\n          );\n          // if this was not a new item, deselect select all option\n          if (selectAllMode && !option.isNewOption) {\n            array = array.filter(\n              element => getValue(element) !== SELECT_ALL_VALUE,\n            );\n          }\n          setSelectValue(array);\n\n          // removes new option\n          if (option.isNewOption) {\n            setSelectOptions(\n              fullSelectOptions.filter(\n                option => getValue(option.value) !== getValue(value),\n              ),\n            );\n          }\n        }\n      }\n      fireOnChange();\n      onDeselect?.(value, option);\n    };\n\n    const handleOnSearch = debounce((search: string) => {\n      const searchValue = search.trim();\n      if (allowNewOptions) {\n        const newOption = searchValue &&\n          !hasOption(searchValue, fullSelectOptions, true) && {\n            label: searchValue,\n            value: searchValue,\n            isNewOption: true,\n          };\n        const cleanSelectOptions = ensureIsArray(fullSelectOptions).filter(\n          opt => !opt.isNewOption || hasOption(opt.value, selectValue),\n        );\n        const newOptions = newOption\n          ? [newOption, ...cleanSelectOptions]\n          : cleanSelectOptions;\n        setSelectOptions(newOptions);\n      }\n      setInputValue(searchValue);\n      onSearch?.(searchValue);\n    }, FAST_DEBOUNCE);\n\n    useEffect(() => () => handleOnSearch.cancel(), [handleOnSearch]);\n\n    const handleFilterOption = (search: string, option: AntdLabeledValue) =>\n      handleFilterOptionHelper(search, option, optionFilterProps, filterOption);\n\n    const handleOnDropdownVisibleChange = (isDropdownVisible: boolean) => {\n      setIsDropdownVisible(isDropdownVisible);\n\n      // if no search input value, force sort options because it won't be sorted by\n      // `filterSort`.\n      if (isDropdownVisible && !inputValue && selectOptions.length > 1) {\n        if (!isEqual(initialOptionsSorted, selectOptions)) {\n          setSelectOptions(initialOptionsSorted);\n        }\n      }\n      if (onDropdownVisibleChange) {\n        onDropdownVisibleChange(isDropdownVisible);\n      }\n    };\n\n    const dropdownRender = (\n      originNode: ReactElement & { ref?: RefObject<HTMLElement> },\n    ) =>\n      dropDownRenderHelper(\n        originNode,\n        isDropdownVisible,\n        isLoading,\n        fullSelectOptions.length,\n        helperText,\n      );\n\n    const handleClear = () => {\n      clear();\n      if (onClear) {\n        onClear();\n      }\n    };\n\n    useEffect(() => {\n      // when `options` list is updated from component prop, reset states\n      setSelectOptions(initialOptions);\n    }, [initialOptions]);\n\n    useEffect(() => {\n      if (loading !== undefined && loading !== isLoading) {\n        setIsLoading(loading);\n      }\n    }, [isLoading, loading]);\n\n    useEffect(() => {\n      setSelectValue(value);\n    }, [value]);\n\n    useEffect(() => {\n      // if all values are selected, add select all to value\n      if (\n        selectAllEnabled &&\n        ensureIsArray(value).length === selectAllEligible.length\n      ) {\n        setSelectValue(\n          labelInValue\n            ? ([...ensureIsArray(value), selectAllOption] as AntdLabeledValue[])\n            : ([...ensureIsArray(value), SELECT_ALL_VALUE] as RawValue[]),\n        );\n      }\n    }, [labelInValue, selectAllEligible.length, selectAllEnabled, value]);\n\n    useEffect(() => {\n      const checkSelectAll = ensureIsArray(selectValue).some(\n        v => getValue(v) === SELECT_ALL_VALUE,\n      );\n      if (checkSelectAll && !selectAllMode) {\n        const optionsToSelect = selectAllEligible.map(option =>\n          labelInValue ? option : option.value,\n        );\n        optionsToSelect.push(labelInValue ? selectAllOption : SELECT_ALL_VALUE);\n        setSelectValue(optionsToSelect);\n        fireOnChange();\n      }\n    }, [\n      selectValue,\n      selectAllMode,\n      labelInValue,\n      selectAllEligible,\n      fireOnChange,\n    ]);\n\n    const selectAllLabel = useMemo(\n      () => () =>\n        // TODO: localize\n        `${SELECT_ALL_VALUE} (${formatNumber(\n          NumberFormats.INTEGER,\n          selectAllEligible.length,\n        )})`,\n      [selectAllEligible],\n    );\n\n    const handleOnBlur = (event: React.FocusEvent<HTMLElement>) => {\n      setInputValue('');\n      onBlur?.(event);\n    };\n\n    const handleOnChange = useCallback(\n      (values: any, options: any) => {\n        // intercept onChange call to handle the select all case\n        // if the \"select all\" option is selected, we want to send all options to the onChange,\n        // otherwise we want to remove\n        let newValues = values;\n        let newOptions = options;\n        if (!isSingleMode) {\n          if (\n            ensureIsArray(newValues).some(\n              val => getValue(val) === SELECT_ALL_VALUE,\n            )\n          ) {\n            // send all options to onchange if all are not currently there\n            if (!selectAllMode) {\n              newValues = mapValues(selectAllEligible, labelInValue);\n              newOptions = mapOptions(selectAllEligible);\n            } else {\n              newValues = ensureIsArray(values).filter(\n                (val: any) => getValue(val) !== SELECT_ALL_VALUE,\n              );\n            }\n          } else if (\n            ensureIsArray(values).length === selectAllEligible.length &&\n            selectAllMode\n          ) {\n            const array = selectAllEligible.filter(\n              option => hasOption(option.value, selectValue) && option.disabled,\n            );\n            newValues = mapValues(array, labelInValue);\n            newOptions = mapOptions(array);\n          }\n        }\n        onChange?.(newValues, newOptions);\n      },\n      [\n        isSingleMode,\n        labelInValue,\n        onChange,\n        selectAllEligible,\n        selectAllMode,\n        selectValue,\n      ],\n    );\n\n    useEffect(() => {\n      if (onChangeCount !== previousChangeCount) {\n        const array = ensureIsArray(selectValue);\n        const set = new Set(array.map(getValue));\n        const options = mapOptions(\n          fullSelectOptions.filter(opt => set.has(opt.value)),\n        );\n        if (isSingleMode) {\n          handleOnChange(selectValue, selectValue ? options[0] : undefined);\n        } else {\n          handleOnChange(array, options);\n        }\n      }\n    }, [\n      fullSelectOptions,\n      handleOnChange,\n      isSingleMode,\n      onChange,\n      onChangeCount,\n      previousChangeCount,\n      selectValue,\n    ]);\n\n    const shouldRenderChildrenOptions = useMemo(\n      () => selectAllEnabled || hasCustomLabels(options),\n      [selectAllEnabled, options],\n    );\n\n    const omittedCount = useMemo(() => {\n      const num_selected = ensureIsArray(selectValue).length;\n      const num_shown = maxTagCount as number;\n      return num_selected - num_shown - (selectAllMode ? 1 : 0);\n    }, [maxTagCount, selectAllMode, selectValue]);\n\n    const customMaxTagPlaceholder = () =>\n      `+ ${omittedCount > 0 ? omittedCount : 1} ...`;\n\n    // We can't remove the + tag so when Select All\n    // is the only item omitted, we subtract one from maxTagCount\n    let actualMaxTagCount = maxTagCount;\n    if (\n      actualMaxTagCount !== 'responsive' &&\n      omittedCount === 0 &&\n      selectAllMode\n    ) {\n      actualMaxTagCount -= 1;\n    }\n\n    const getPastedTextValue = useCallback(\n      (text: string) => {\n        const option = getOption(text, fullSelectOptions, true);\n        if (labelInValue) {\n          const value: AntdLabeledValue = {\n            label: text,\n            value: text,\n          };\n          if (option) {\n            value.label = isObject(option) ? option.label : option;\n            value.value = isObject(option) ? option.value! : option;\n          }\n          return value;\n        }\n        return option ? (isObject(option) ? option.value! : option) : text;\n      },\n      [fullSelectOptions, labelInValue],\n    );\n\n    const onPaste = (e: ClipboardEvent<HTMLInputElement>) => {\n      const pastedText = e.clipboardData.getData('text');\n      if (isSingleMode) {\n        setSelectValue(getPastedTextValue(pastedText));\n      } else {\n        const token = tokenSeparators.find(token => pastedText.includes(token));\n        const array = token ? uniq(pastedText.split(token)) : [pastedText];\n        const values = array.map(item => getPastedTextValue(item));\n        if (labelInValue) {\n          setSelectValue(previous => [\n            ...((previous || []) as AntdLabeledValue[]),\n            ...(values as AntdLabeledValue[]),\n          ]);\n        } else {\n          setSelectValue(previous => [\n            ...((previous || []) as string[]),\n            ...(values as string[]),\n          ]);\n        }\n      }\n    };\n\n    return (\n      <StyledContainer headerPosition={headerPosition}>\n        {header && (\n          <StyledHeader headerPosition={headerPosition}>{header}</StyledHeader>\n        )}\n        <StyledSelect\n          allowClear={!isLoading && allowClear}\n          aria-label={ariaLabel || name}\n          autoClearSearchValue={autoClearSearchValue}\n          dropdownRender={dropdownRender}\n          filterOption={handleFilterOption}\n          filterSort={sortComparatorWithSearch}\n          getPopupContainer={\n            getPopupContainer || (triggerNode => triggerNode.parentNode)\n          }\n          headerPosition={headerPosition}\n          labelInValue={labelInValue}\n          maxTagCount={actualMaxTagCount}\n          maxTagPlaceholder={customMaxTagPlaceholder}\n          mode={mappedMode}\n          notFoundContent={isLoading ? t('Loading...') : notFoundContent}\n          onBlur={handleOnBlur}\n          onDeselect={handleOnDeselect}\n          onDropdownVisibleChange={handleOnDropdownVisibleChange}\n          // @ts-ignore\n          onPaste={onPaste}\n          onPopupScroll={undefined}\n          onSearch={shouldShowSearch ? handleOnSearch : undefined}\n          onSelect={handleOnSelect}\n          onClear={handleClear}\n          placeholder={placeholder}\n          showSearch={shouldShowSearch}\n          showArrow\n          tokenSeparators={tokenSeparators}\n          value={selectValue}\n          suffixIcon={getSuffixIcon(\n            isLoading,\n            shouldShowSearch,\n            isDropdownVisible,\n          )}\n          menuItemSelectedIcon={\n            invertSelection ? (\n              <StyledStopOutlined iconSize=\"m\" aria-label=\"stop\" />\n            ) : (\n              <StyledCheckOutlined iconSize=\"m\" aria-label=\"check\" />\n            )\n          }\n          options={shouldRenderChildrenOptions ? undefined : fullSelectOptions}\n          oneLine={oneLine}\n          tagRender={customTagRender}\n          {...props}\n          ref={ref}\n        >\n          {selectAllEnabled && (\n            <Option\n              id=\"select-all\"\n              className=\"select-all\"\n              key={SELECT_ALL_VALUE}\n              value={SELECT_ALL_VALUE}\n            >\n              {selectAllLabel()}\n            </Option>\n          )}\n          {shouldRenderChildrenOptions &&\n            renderSelectOptions(fullSelectOptions)}\n        </StyledSelect>\n      </StyledContainer>\n    );\n  },\n);\n\nexport default Select;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { LabeledValue as AntdLabeledValue } from 'antd/lib/select';\nimport { rankedSearchCompare } from 'src/utils/rankedSearchCompare';\n\nexport const MAX_TAG_COUNT = 4;\n\nexport const TOKEN_SEPARATORS = [',', '\\r\\n', '\\n', '\\t', ';'];\n\nexport const EMPTY_OPTIONS = [];\n\nexport const DEFAULT_PAGE_SIZE = 100;\n\nexport const DEFAULT_SORT_COMPARATOR = (\n  a: AntdLabeledValue,\n  b: AntdLabeledValue,\n  search?: string,\n) => {\n  let aText: string | undefined;\n  let bText: string | undefined;\n  if (typeof a.label === 'string' && typeof b.label === 'string') {\n    aText = a.label;\n    bText = b.label;\n  } else if (typeof a.value === 'string' && typeof b.value === 'string') {\n    aText = a.value;\n    bText = b.value;\n  }\n  // sort selected options first\n  if (typeof aText === 'string' && typeof bText === 'string') {\n    if (search) {\n      return rankedSearchCompare(aText, bText, search);\n    }\n    return aText.localeCompare(bText);\n  }\n  return (a.value as number) - (b.value as number);\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Sort comparator with basic rankings.\n */\nexport function rankedSearchCompare(a: string, b: string, search: string) {\n  const aLower = a.toLowerCase() || '';\n  const bLower = b.toLowerCase() || '';\n  const searchLower = search.toLowerCase() || '';\n  if (!search) return a.localeCompare(b);\n  return (\n    Number(b === search) - Number(a === search) ||\n    Number(b.startsWith(search)) - Number(a.startsWith(search)) ||\n    Number(bLower === searchLower) - Number(aLower === searchLower) ||\n    Number(bLower.startsWith(searchLower)) -\n      Number(aLower.startsWith(searchLower)) ||\n    Number(b.includes(search)) - Number(a.includes(search)) ||\n    Number(bLower.includes(searchLower)) - Number(a.includes(searchLower)) ||\n    a.localeCompare(b)\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport { Spin, Tag } from 'antd';\nimport AntdSelect from 'antd/lib/select';\n\nexport const StyledHeader = styled.span<{ headerPosition: string }>`\n  ${({ theme, headerPosition }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-right: ${headerPosition === 'left' ? theme.gridUnit * 2 : 0}px;\n  `}\n`;\n\nexport const StyledContainer = styled.div<{ headerPosition: string }>`\n  ${({ headerPosition }) => `\n    display: flex;\n    flex-direction: ${headerPosition === 'top' ? 'column' : 'row'};\n    align-items: ${headerPosition === 'left' ? 'center' : undefined};\n    width: 100%;\n  `}\n`;\n\nexport const StyledSelect = styled(AntdSelect, {\n  shouldForwardProp: prop => prop !== 'headerPosition' && prop !== 'oneLine',\n})<{ headerPosition: string; oneLine?: boolean }>`\n  ${({ theme, headerPosition, oneLine }) => `\n    flex: ${headerPosition === 'left' ? 1 : 0};\n    && .ant-select-selector {\n      border-radius: ${theme.gridUnit}px;\n    }\n    // Open the dropdown when clicking on the suffix\n    // This is fixed in version 4.16\n    .ant-select-arrow .anticon:not(.ant-select-suffix) {\n      pointer-events: none;\n    }\n    .select-all {\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n    ${\n      oneLine &&\n      `\n        .ant-select-selection-overflow {\n          flex-wrap: nowrap;\n        }\n\n        .ant-select-selection-overflow-item:not(.ant-select-selection-overflow-item-rest):not(.ant-select-selection-overflow-item-suffix) {\n          flex-shrink: 1;\n          min-width: ${theme.gridUnit * 13}px;\n        }\n\n        .ant-select-selection-overflow-item-suffix {\n          flex: unset;\n          min-width: 0px;\n        }\n      `\n    };\n `}\n`;\n\nexport const NoElement = styled.span`\n  display: none;\n`;\n\nexport const StyledTag = styled(Tag)`\n  ${({ theme }) => `\n    background: ${theme.colors.grayscale.light3};\n    font-size: ${theme.typography.sizes.m}px;\n    border: none;\n  `}\n`;\n\nexport const StyledStopOutlined = styled(Icons.StopOutlined)`\n  vertical-align: 0;\n`;\n\nexport const StyledCheckOutlined = styled(Icons.CheckOutlined)`\n  vertical-align: 0;\n`;\n\nexport const StyledSpin = styled(Spin)`\n  margin-top: ${({ theme }) => -theme.gridUnit}px;\n`;\n\nexport const StyledLoadingText = styled.div`\n  ${({ theme }) => `\n   margin-left: ${theme.gridUnit * 3}px;\n   line-height: ${theme.gridUnit * 8}px;\n   color: ${theme.colors.grayscale.light1};\n `}\n`;\n\nexport const StyledHelperText = styled.div`\n  ${({ theme }) => `\n   padding: ${theme.gridUnit * 2}px ${theme.gridUnit * 3}px;\n   color: ${theme.colors.grayscale.base};\n   font-size: ${theme.typography.sizes.s}px;\n   cursor: default;\n   border-bottom: 1px solid ${theme.colors.grayscale.light2};\n `}\n`;\n\nexport const StyledError = styled.div`\n  ${({ theme }) => `\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100%;\n    padding: ${theme.gridUnit * 2}px;\n    color: ${theme.colors.error.base};\n    & svg {\n      margin-right: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n\nexport const StyledErrorMessage = styled.div`\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ensureIsArray, t } from '@superset-ui/core';\nimport AntdSelect, { LabeledValue as AntdLabeledValue } from 'antd/lib/select';\nimport React, { ReactElement, RefObject } from 'react';\nimport Icons from 'src/components/Icons';\nimport { StyledHelperText, StyledLoadingText, StyledSpin } from './styles';\nimport { LabeledValue, RawValue, SelectOptionsType, V } from './types';\n\nconst { Option } = AntdSelect;\n\nexport const SELECT_ALL_VALUE: RawValue = 'Select All';\nexport const selectAllOption = {\n  value: SELECT_ALL_VALUE,\n  label: String(SELECT_ALL_VALUE),\n};\n\nexport function isObject(value: unknown): value is Record<string, unknown> {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    Array.isArray(value) === false\n  );\n}\n\nexport function isLabeledValue(value: unknown): value is AntdLabeledValue {\n  return isObject(value) && 'value' in value && 'label' in value;\n}\n\nexport function getValue(\n  option: string | number | AntdLabeledValue | null | undefined,\n) {\n  return isLabeledValue(option) ? option.value : option;\n}\n\nexport function getOption(\n  value: V,\n  options?: V | LabeledValue | (V | LabeledValue)[],\n  checkLabel = false,\n): V | LabeledValue {\n  const optionsArray = ensureIsArray(options);\n  // When comparing the values we use the equality\n  // operator to automatically convert different types\n  return optionsArray.find(\n    x =>\n      // eslint-disable-next-line eqeqeq\n      x == value ||\n      (isObject(x) &&\n        // eslint-disable-next-line eqeqeq\n        (('value' in x && x.value == value) ||\n          (checkLabel && 'label' in x && x.label === value))),\n  );\n}\n\nexport function hasOption(\n  value: V,\n  options?: V | LabeledValue | (V | LabeledValue)[],\n  checkLabel = false,\n): boolean {\n  return getOption(value, options, checkLabel) !== undefined;\n}\n\n/**\n * It creates a comparator to check for a specific property.\n * Can be used with string and number property values.\n * */\nexport const propertyComparator =\n  (property: string) => (a: AntdLabeledValue, b: AntdLabeledValue) => {\n    if (typeof a[property] === 'string' && typeof b[property] === 'string') {\n      return a[property].localeCompare(b[property]);\n    }\n    return (a[property] as number) - (b[property] as number);\n  };\n\nexport const sortSelectedFirstHelper = (\n  a: AntdLabeledValue,\n  b: AntdLabeledValue,\n  selectValue:\n    | string\n    | number\n    | RawValue[]\n    | AntdLabeledValue\n    | AntdLabeledValue[]\n    | undefined,\n) =>\n  selectValue && a.value !== undefined && b.value !== undefined\n    ? Number(hasOption(b.value, selectValue)) -\n      Number(hasOption(a.value, selectValue))\n    : 0;\n\nexport const sortComparatorWithSearchHelper = (\n  a: AntdLabeledValue,\n  b: AntdLabeledValue,\n  inputValue: string,\n  sortCallback: (a: AntdLabeledValue, b: AntdLabeledValue) => number,\n  sortComparator: (\n    a: AntdLabeledValue,\n    b: AntdLabeledValue,\n    search?: string | undefined,\n  ) => number,\n) => sortCallback(a, b) || sortComparator(a, b, inputValue);\n\nexport const sortComparatorForNoSearchHelper = (\n  a: AntdLabeledValue,\n  b: AntdLabeledValue,\n  sortCallback: (a: AntdLabeledValue, b: AntdLabeledValue) => number,\n  sortComparator: (\n    a: AntdLabeledValue,\n    b: AntdLabeledValue,\n    search?: string | undefined,\n  ) => number,\n) => sortCallback(a, b) || sortComparator(a, b, '');\n\n// use a function instead of component since every rerender of the\n// Select component will create a new component\nexport const getSuffixIcon = (\n  isLoading: boolean | undefined,\n  showSearch: boolean,\n  isDropdownVisible: boolean,\n) => {\n  if (isLoading) {\n    return <StyledSpin size=\"small\" />;\n  }\n  if (showSearch && isDropdownVisible) {\n    return <Icons.SearchOutlined iconSize=\"s\" />;\n  }\n  return <Icons.DownOutlined iconSize=\"s\" />;\n};\n\nexport const dropDownRenderHelper = (\n  originNode: ReactElement & { ref?: RefObject<HTMLElement> },\n  isDropdownVisible: boolean,\n  isLoading: boolean | undefined,\n  optionsLength: number,\n  helperText: string | undefined,\n  errorComponent?: JSX.Element,\n) => {\n  if (!isDropdownVisible) {\n    originNode.ref?.current?.scrollTo({ top: 0 });\n  }\n  if (isLoading && optionsLength === 0) {\n    return <StyledLoadingText>{t('Loading...')}</StyledLoadingText>;\n  }\n  if (errorComponent) {\n    return errorComponent;\n  }\n  return (\n    <>\n      {helperText && (\n        <StyledHelperText role=\"note\">{helperText}</StyledHelperText>\n      )}\n      {originNode}\n    </>\n  );\n};\n\nexport const handleFilterOptionHelper = (\n  search: string,\n  option: AntdLabeledValue,\n  optionFilterProps: string[],\n  filterOption: boolean | Function,\n) => {\n  if (typeof filterOption === 'function') {\n    return filterOption(search, option);\n  }\n\n  if (filterOption) {\n    const searchValue = search.trim().toLowerCase();\n    if (optionFilterProps?.length) {\n      return optionFilterProps.some(prop => {\n        const optionProp = option?.[prop]\n          ? String(option[prop]).trim().toLowerCase()\n          : '';\n        return optionProp.includes(searchValue);\n      });\n    }\n  }\n\n  return false;\n};\n\nexport const hasCustomLabels = (options: SelectOptionsType) =>\n  options?.some(opt => !!opt?.customLabel);\n\nexport const renderSelectOptions = (options: SelectOptionsType) =>\n  options.map(opt => {\n    const isOptObject = typeof opt === 'object';\n    const label = isOptObject ? opt?.label || opt.value : opt;\n    const value = isOptObject ? opt.value : opt;\n    const { customLabel, ...optProps } = opt;\n    return (\n      <Option {...optProps} key={value} label={label} value={value}>\n        {isOptObject && customLabel ? customLabel : label}\n      </Option>\n    );\n  });\n\nexport const mapValues = (values: SelectOptionsType, labelInValue: boolean) =>\n  labelInValue\n    ? values.map(opt => ({\n        key: opt.value,\n        value: opt.value,\n        label: opt.label,\n      }))\n    : values.map(opt => opt.value);\n\nexport const mapOptions = (values: SelectOptionsType) =>\n  values.map(opt => ({\n    children: opt.label,\n    key: opt.value,\n    ...opt,\n  }));\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport cx from 'classnames';\nimport { TableInstance } from 'react-table';\nimport { styled } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\n\ninterface TableCollectionProps {\n  getTableProps: (userProps?: any) => any;\n  getTableBodyProps: (userProps?: any) => any;\n  prepareRow: TableInstance['prepareRow'];\n  headerGroups: TableInstance['headerGroups'];\n  rows: TableInstance['rows'];\n  columns: TableInstance['column'][];\n  loading: boolean;\n  highlightRowId?: number;\n  columnsForWrapText?: string[];\n}\n\nexport const Table = styled.table`\n  ${({ theme }) => `\n    background-color: ${theme.colors.grayscale.light5};\n    border-collapse: separate;\n    border-radius: ${theme.borderRadius}px;\n\n    thead > tr > th {\n      border: 0;\n    }\n\n    tbody {\n      tr:first-of-type > td {\n        border-top: 0;\n      }\n    }\n    th {\n      background: ${theme.colors.grayscale.light5};\n      position: sticky;\n      top: 0;\n\n      &:first-of-type {\n        padding-left: ${theme.gridUnit * 4}px;\n      }\n\n      &.xs {\n        min-width: 25px;\n      }\n      &.sm {\n        min-width: 50px;\n      }\n      &.md {\n        min-width: 75px;\n      }\n      &.lg {\n        min-width: 100px;\n      }\n      &.xl {\n        min-width: 150px;\n      }\n      &.xxl {\n        min-width: 200px;\n      }\n\n      span {\n        white-space: nowrap;\n        display: flex;\n        align-items: center;\n        line-height: 2;\n      }\n\n      svg {\n        display: inline-block;\n        position: relative;\n      }\n    }\n\n    td {\n      &.xs {\n        width: 25px;\n      }\n      &.sm {\n        width: 50px;\n      }\n      &.md {\n        width: 75px;\n      }\n      &.lg {\n        width: 100px;\n      }\n      &.xl {\n        width: 150px;\n      }\n      &.xxl {\n        width: 200px;\n      }\n    }\n\n    .table-cell-loader {\n      position: relative;\n\n      .loading-bar {\n        background-color: ${theme.colors.secondary.light4};\n        border-radius: 7px;\n\n        span {\n          visibility: hidden;\n        }\n      }\n\n      .empty-loading-bar {\n        display: inline-block;\n        width: 100%;\n        height: 1.2em;\n      }\n    }\n\n    .actions {\n      white-space: nowrap;\n      min-width: 100px;\n\n      svg,\n      i {\n        margin-right: 8px;\n\n        &:hover {\n          path {\n            fill: ${theme.colors.primary.base};\n          }\n        }\n      }\n    }\n\n    .table-row {\n      .actions {\n        opacity: 0;\n        font-size: ${theme.typography.sizes.xl}px;\n        display: flex;\n      }\n\n      &:hover {\n        background-color: ${theme.colors.secondary.light5};\n\n        .actions {\n          opacity: 1;\n          transition: opacity ease-in ${theme.transitionTiming}s;\n        }\n      }\n    }\n\n    .table-row-selected {\n      background-color: ${theme.colors.secondary.light4};\n\n      &:hover {\n        background-color: ${theme.colors.secondary.light4};\n      }\n    }\n\n    .table-cell {\n      font-feature-settings: 'tnum' 1;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      max-width: 320px;\n      line-height: 1;\n      vertical-align: middle;\n      &:first-of-type {\n        padding-left: ${theme.gridUnit * 4}px;\n      }\n      &__wrap {\n        white-space: normal;\n      }\n      &__nowrap {\n        white-space: nowrap;\n      }\n    }\n\n    @keyframes loading-shimmer {\n      40% {\n        background-position: 100% 0;\n      }\n\n      100% {\n        background-position: 100% 0;\n      }\n    }\n  `}\n`;\n\nTable.displayName = 'table';\n\nexport default React.memo(\n  ({\n    getTableProps,\n    getTableBodyProps,\n    prepareRow,\n    headerGroups,\n    columns,\n    rows,\n    loading,\n    highlightRowId,\n    columnsForWrapText,\n  }: TableCollectionProps) => (\n    <Table\n      {...getTableProps()}\n      className=\"table table-hover\"\n      data-test=\"listview-table\"\n    >\n      <thead>\n        {headerGroups.map(headerGroup => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => {\n              let sortIcon = <Icons.Sort />;\n              if (column.isSorted && column.isSortedDesc) {\n                sortIcon = <Icons.SortDesc />;\n              } else if (column.isSorted && !column.isSortedDesc) {\n                sortIcon = <Icons.SortAsc />;\n              }\n              return column.hidden ? null : (\n                <th\n                  {...column.getHeaderProps(\n                    column.canSort ? column.getSortByToggleProps() : {},\n                  )}\n                  data-test=\"sort-header\"\n                  className={cx({\n                    [column.size || '']: column.size,\n                  })}\n                >\n                  <span>\n                    {column.render('Header')}\n                    {column.canSort && sortIcon}\n                  </span>\n                </th>\n              );\n            })}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {loading &&\n          rows.length === 0 &&\n          [...new Array(12)].map((_, i) => (\n            <tr key={i}>\n              {columns.map((column, i2) => {\n                if (column.hidden) return null;\n                return (\n                  <td\n                    key={i2}\n                    className={cx('table-cell', {\n                      'table-cell-loader': loading,\n                    })}\n                  >\n                    <span\n                      className=\"loading-bar empty-loading-bar\"\n                      role=\"progressbar\"\n                      aria-label=\"loading\"\n                    />\n                  </td>\n                );\n              })}\n            </tr>\n          ))}\n        {rows.length > 0 &&\n          rows.map(row => {\n            prepareRow(row);\n            // @ts-ignore\n            const rowId = row.original.id;\n            return (\n              <tr\n                data-test=\"table-row\"\n                {...row.getRowProps()}\n                className={cx('table-row', {\n                  'table-row-selected':\n                    row.isSelected ||\n                    (typeof rowId !== 'undefined' && rowId === highlightRowId),\n                })}\n              >\n                {row.cells.map(cell => {\n                  if (cell.column.hidden) return null;\n                  const columnCellProps = cell.column.cellProps || {};\n                  const isWrapText = columnsForWrapText?.includes(\n                    cell.column.Header as string,\n                  );\n                  return (\n                    <td\n                      data-test=\"table-row-cell\"\n                      className={cx(\n                        `table-cell table-cell__${\n                          isWrapText ? 'wrap' : 'nowrap'\n                        }`,\n                        {\n                          'table-cell-loader': loading,\n                          [cell.column.size || '']: cell.column.size,\n                        },\n                      )}\n                      {...cell.getCellProps()}\n                      {...columnCellProps}\n                    >\n                      <span\n                        className={cx({ 'loading-bar': loading })}\n                        role={loading ? 'progressbar' : undefined}\n                      >\n                        <span data-test=\"cell-text\">{cell.render('Cell')}</span>\n                      </span>\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n      </tbody>\n    </Table>\n  ),\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { styled, t } from '@superset-ui/core';\nimport { useFilters, usePagination, useSortBy, useTable } from 'react-table';\nimport { Empty } from 'src/components';\nimport Pagination from 'src/components/Pagination';\nimport TableCollection from 'src/components/TableCollection';\nimport { SortByType, ServerPagination } from './types';\n\nconst DEFAULT_PAGE_SIZE = 10;\n\nexport enum EmptyWrapperType {\n  Default = 'Default',\n  Small = 'Small',\n}\n\nexport interface TableViewProps {\n  columns: any[];\n  data: any[];\n  pageSize?: number;\n  totalCount?: number;\n  serverPagination?: boolean;\n  onServerPagination?: (args: ServerPagination) => void;\n  initialPageIndex?: number;\n  initialSortBy?: SortByType;\n  loading?: boolean;\n  withPagination?: boolean;\n  emptyWrapperType?: EmptyWrapperType;\n  noDataText?: string;\n  className?: string;\n  isPaginationSticky?: boolean;\n  showRowCount?: boolean;\n  scrollTable?: boolean;\n  scrollTopOnPagination?: boolean;\n  small?: boolean;\n  columnsForWrapText?: string[];\n}\n\nconst EmptyWrapper = styled.div`\n  margin: ${({ theme }) => theme.gridUnit * 40}px 0;\n`;\n\nconst TableViewStyles = styled.div<{\n  isPaginationSticky?: boolean;\n  scrollTable?: boolean;\n  small?: boolean;\n}>`\n  ${({ scrollTable, theme }) =>\n    scrollTable &&\n    `\n    flex: 1 1 auto;\n    margin-bottom: ${theme.gridUnit * 4}px;\n    overflow: auto;\n  `}\n\n  .table-row {\n    ${({ theme, small }) => !small && `height: ${theme.gridUnit * 11 - 1}px;`}\n\n    .table-cell {\n      ${({ theme, small }) =>\n        small &&\n        `\n        padding-top: ${theme.gridUnit + 1}px;\n        padding-bottom: ${theme.gridUnit + 1}px;\n        line-height: 1.45;\n      `}\n    }\n  }\n\n  th[role='columnheader'] {\n    z-index: 1;\n    border-bottom: ${({ theme }) =>\n      `${theme.gridUnit - 2}px solid ${theme.colors.grayscale.light2}`};\n    ${({ small }) => small && `padding-bottom: 0;`}\n  }\n`;\n\nconst PaginationStyles = styled.div<{\n  isPaginationSticky?: boolean;\n}>`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) => theme.colors.grayscale.light5};\n\n  ${({ isPaginationSticky }) =>\n    isPaginationSticky &&\n    `\n        position: sticky;\n        bottom: 0;\n        left: 0;\n    `};\n\n  .row-count-container {\n    margin-top: ${({ theme }) => theme.gridUnit * 2}px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n  }\n`;\n\nconst TableView = ({\n  columns,\n  data,\n  pageSize: initialPageSize,\n  totalCount = data.length,\n  initialPageIndex,\n  initialSortBy = [],\n  loading = false,\n  withPagination = true,\n  emptyWrapperType = EmptyWrapperType.Default,\n  noDataText,\n  showRowCount = true,\n  serverPagination = false,\n  columnsForWrapText,\n  onServerPagination = () => {},\n  scrollTopOnPagination = false,\n  ...props\n}: TableViewProps) => {\n  const initialState = {\n    pageSize: initialPageSize ?? DEFAULT_PAGE_SIZE,\n    pageIndex: initialPageIndex ?? 0,\n    sortBy: initialSortBy,\n  };\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    page,\n    rows,\n    prepareRow,\n    pageCount,\n    gotoPage,\n    state: { pageIndex, pageSize, sortBy },\n  } = useTable(\n    {\n      columns,\n      data,\n      initialState,\n      manualPagination: serverPagination,\n      manualSortBy: serverPagination,\n      pageCount: Math.ceil(totalCount / initialState.pageSize),\n    },\n    useFilters,\n    useSortBy,\n    usePagination,\n  );\n\n  const content = withPagination ? page : rows;\n\n  let EmptyWrapperComponent;\n  switch (emptyWrapperType) {\n    case EmptyWrapperType.Small:\n      EmptyWrapperComponent = ({ children }: any) => <>{children}</>;\n      break;\n    case EmptyWrapperType.Default:\n    default:\n      EmptyWrapperComponent = ({ children }: any) => (\n        <EmptyWrapper>{children}</EmptyWrapper>\n      );\n  }\n\n  const isEmpty = !loading && content.length === 0;\n  const hasPagination = pageCount > 1 && withPagination;\n  const tableRef = useRef<HTMLTableElement>(null);\n  const handleGotoPage = (p: number) => {\n    if (scrollTopOnPagination) {\n      tableRef?.current?.scroll(0, 0);\n    }\n    gotoPage(p);\n  };\n\n  useEffect(() => {\n    if (serverPagination && pageIndex !== initialState.pageIndex) {\n      onServerPagination({\n        pageIndex,\n      });\n    }\n  }, [pageIndex]);\n\n  useEffect(() => {\n    if (serverPagination && !isEqual(sortBy, initialState.sortBy)) {\n      onServerPagination({\n        pageIndex: 0,\n        sortBy,\n      });\n    }\n  }, [sortBy]);\n\n  return (\n    <>\n      <TableViewStyles {...props} ref={tableRef}>\n        <TableCollection\n          getTableProps={getTableProps}\n          getTableBodyProps={getTableBodyProps}\n          prepareRow={prepareRow}\n          headerGroups={headerGroups}\n          rows={content}\n          columns={columns}\n          loading={loading}\n          columnsForWrapText={columnsForWrapText}\n        />\n        {isEmpty && (\n          <EmptyWrapperComponent>\n            {noDataText ? (\n              <Empty\n                image={Empty.PRESENTED_IMAGE_SIMPLE}\n                description={noDataText}\n              />\n            ) : (\n              <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n            )}\n          </EmptyWrapperComponent>\n        )}\n      </TableViewStyles>\n      {hasPagination && (\n        <PaginationStyles\n          className=\"pagination-container\"\n          isPaginationSticky={props.isPaginationSticky}\n        >\n          <Pagination\n            totalPages={pageCount || 0}\n            currentPage={pageCount ? pageIndex + 1 : 0}\n            onChange={(p: number) => handleGotoPage(p - 1)}\n            hideFirstAndLastPageLinks\n          />\n          {showRowCount && (\n            <div className=\"row-count-container\">\n              {!loading &&\n                t(\n                  '%s-%s of %s',\n                  pageSize * pageIndex + (page.length && 1),\n                  pageSize * pageIndex + page.length,\n                  totalCount,\n                )}\n            </div>\n          )}\n        </PaginationStyles>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(TableView);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { css, styled } from '@superset-ui/core';\nimport AntdTabs, { TabsProps as AntdTabsProps } from 'antd/lib/tabs';\nimport Icons from 'src/components/Icons';\n\nexport interface TabsProps extends AntdTabsProps {\n  fullWidth?: boolean;\n  allowOverflow?: boolean;\n}\n\nconst StyledTabs = ({\n  animated = false,\n  fullWidth = true,\n  allowOverflow = true,\n  ...props\n}: TabsProps) => (\n  <AntdTabs\n    animated={animated}\n    {...props}\n    css={theme => css`\n      overflow: ${allowOverflow ? 'visible' : 'hidden'};\n\n      .ant-tabs-content-holder {\n        overflow: ${allowOverflow ? 'visible' : 'auto'};\n      }\n      .ant-tabs-tab {\n        flex: 1 1 auto;\n        &.ant-tabs-tab-active .ant-tabs-tab-btn {\n          color: inherit;\n        }\n        &:hover {\n          .anchor-link-container {\n            cursor: pointer;\n            .fa.fa-link {\n              visibility: visible;\n            }\n          }\n        }\n        .short-link-trigger.btn {\n          padding: 0 ${theme.gridUnit}px;\n          & > .fa.fa-link {\n            top: 0;\n          }\n        }\n      }\n      ${fullWidth &&\n      css`\n        .ant-tabs-nav-list {\n          width: 100%;\n        }\n      `};\n\n      .ant-tabs-tab-btn {\n        display: flex;\n        flex: 1 1 auto;\n        align-items: center;\n        justify-content: center;\n        font-size: ${theme.typography.sizes.s}px;\n        text-align: center;\n        text-transform: uppercase;\n        user-select: none;\n        .required {\n          margin-left: ${theme.gridUnit / 2}px;\n          color: ${theme.colors.error.base};\n        }\n      }\n      .ant-tabs-ink-bar {\n        background: ${theme.colors.secondary.base};\n      }\n    `}\n  />\n);\n\nconst StyledTabPane = styled(AntdTabs.TabPane)``;\n\nconst Tabs = Object.assign(StyledTabs, {\n  TabPane: StyledTabPane,\n});\n\nconst StyledEditableTabs = styled(StyledTabs)`\n  ${({ theme, fullWidth }) => `\n    .ant-tabs-content-holder {\n      background: ${theme.colors.grayscale.light5};\n    }\n\n    & > .ant-tabs-nav {\n      margin-bottom: 0;\n    }\n\n    .ant-tabs-tab-remove {\n      padding-top: 0;\n      padding-bottom: 0;\n      height: ${theme.gridUnit * 6}px;\n    }\n\n    ${\n      fullWidth\n        ? css`\n            .ant-tabs-nav-list {\n              width: 100%;\n            }\n          `\n        : ''\n    }\n  `}\n`;\n\nconst StyledCancelXIcon = styled(Icons.CancelX)`\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\nexport const EditableTabs = Object.assign(StyledEditableTabs, {\n  TabPane: StyledTabPane,\n});\n\nEditableTabs.defaultProps = {\n  type: 'editable-card',\n  fullWidth: false,\n  animated: { inkBar: true, tabPane: false },\n};\n\nEditableTabs.TabPane.defaultProps = {\n  closeIcon: <StyledCancelXIcon role=\"button\" tabIndex={0} />,\n};\n\nexport const StyledLineEditableTabs = styled(EditableTabs)`\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {\n    margin: 0 ${({ theme }) => theme.gridUnit * 4}px;\n    padding: ${({ theme }) => `${theme.gridUnit * 3}px ${theme.gridUnit}px`};\n    background: transparent;\n    border: none;\n  }\n\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-ink-bar {\n    visibility: visible;\n  }\n\n  .ant-tabs-tab-btn {\n    font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  }\n\n  .ant-tabs-tab-remove {\n    margin-left: 0;\n    padding-right: 0;\n  }\n\n  .ant-tabs-nav-add {\n    min-width: unset !important;\n    background: transparent !important;\n    border: none !important;\n  }\n`;\n\nexport const LineEditableTabs = Object.assign(StyledLineEditableTabs, {\n  TabPane: StyledTabPane,\n});\n\nexport default Tabs;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useTheme, css } from '@superset-ui/core';\nimport { Tooltip as AntdTooltip } from 'antd';\nimport {\n  TooltipProps,\n  TooltipPlacement as AntdTooltipPlacement,\n} from 'antd/lib/tooltip';\nimport { Global } from '@emotion/react';\n\nexport type TooltipPlacement = AntdTooltipPlacement;\n\nexport const Tooltip = (props: TooltipProps) => {\n  const theme = useTheme();\n  return (\n    <>\n      {/* Safari hack to hide browser default tooltips */}\n      <Global\n        styles={css`\n          .ant-tooltip-open {\n            display: inline-block;\n            &::after {\n              content: '';\n              display: block;\n            }\n          }\n          .ant-tooltip-inner > p {\n            margin: 0;\n          }\n        `}\n      />\n      <AntdTooltip\n        overlayStyle={{ fontSize: theme.typography.sizes.s, lineHeight: '1.6' }}\n        overlayInnerStyle={{\n          display: '-webkit-box',\n          overflow: 'hidden',\n          WebkitLineClamp: 40,\n          WebkitBoxOrient: 'vertical',\n          textOverflow: 'ellipsis',\n        }}\n        color={`${theme.colors.grayscale.dark2}e6`}\n        {...props}\n      />\n    </>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport shortid from 'shortid';\nimport { compose } from 'redux';\nimport persistState, { StorageAdapter } from 'redux-localstorage';\nimport {\n  isEqual,\n  omitBy,\n  omit,\n  isUndefined,\n  isNull,\n  isEqualWith,\n} from 'lodash';\nimport { ensureIsArray } from '@superset-ui/core';\n\nexport function addToObject(\n  state: Record<string, any>,\n  arrKey: string,\n  obj: Record<string, any>,\n) {\n  const newObject = { ...state[arrKey] };\n  const copiedObject = { ...obj };\n\n  if (!copiedObject.id) {\n    copiedObject.id = shortid.generate();\n  }\n  newObject[copiedObject.id] = copiedObject;\n  return { ...state, [arrKey]: newObject };\n}\n\nexport function alterInObject(\n  state: Record<string, any>,\n  arrKey: string,\n  obj: Record<string, any>,\n  alterations: Record<string, any>,\n) {\n  const newObject = { ...state[arrKey] };\n  newObject[obj.id] = { ...newObject[obj.id], ...alterations };\n  return { ...state, [arrKey]: newObject };\n}\n\nexport function alterInArr(\n  state: Record<string, any>,\n  arrKey: string,\n  obj: Record<string, any>,\n  alterations: Record<string, any>,\n  idKey = 'id',\n) {\n  // Finds an item in an array in the state and replaces it with a\n  // new object with an altered property\n  const newArr: unknown[] = [];\n  state[arrKey].forEach((arrItem: Record<string, any>) => {\n    if (obj[idKey] === arrItem[idKey]) {\n      newArr.push({ ...arrItem, ...alterations });\n    } else {\n      newArr.push(arrItem);\n    }\n  });\n  return { ...state, [arrKey]: newArr };\n}\n\nexport function removeFromArr(\n  state: Record<string, any>,\n  arrKey: string,\n  obj: Record<string, any>,\n  idKey = 'id',\n) {\n  const newArr: unknown[] = [];\n  state[arrKey].forEach((arrItem: Record<string, any>) => {\n    if (!(obj[idKey] === arrItem[idKey])) {\n      newArr.push(arrItem);\n    }\n  });\n  return { ...state, [arrKey]: newArr };\n}\n\nexport function getFromArr(arr: Record<string, any>[], id: string) {\n  let obj;\n  arr.forEach(o => {\n    if (o.id === id) {\n      obj = o;\n    }\n  });\n  return obj;\n}\n\nexport function addToArr(\n  state: Record<string, any>,\n  arrKey: string,\n  obj: Record<string, any>,\n  prepend = false,\n) {\n  const newObj = { ...obj };\n  if (!newObj.id) {\n    newObj.id = shortid.generate();\n  }\n  const newState = {};\n  if (prepend) {\n    newState[arrKey] = [newObj, ...state[arrKey]];\n  } else {\n    newState[arrKey] = [...state[arrKey], newObj];\n  }\n  return { ...state, ...newState };\n}\n\nexport function extendArr(\n  state: Record<string, any>,\n  arrKey: string,\n  arr: Record<string, any>[],\n  prepend = false,\n) {\n  const newArr = [...arr];\n  newArr.forEach(el => {\n    if (!el.id) {\n      /* eslint-disable no-param-reassign */\n      el.id = shortid.generate();\n    }\n  });\n  const newState = {};\n  if (prepend) {\n    newState[arrKey] = [...newArr, ...state[arrKey]];\n  } else {\n    newState[arrKey] = [...state[arrKey], ...newArr];\n  }\n  return { ...state, ...newState };\n}\n\nexport function initEnhancer(\n  persist = true,\n  persistConfig: { paths?: StorageAdapter<unknown>; config?: string } = {},\n  disableDebugger = false,\n) {\n  const { paths, config } = persistConfig;\n  const composeEnhancers =\n    process.env.WEBPACK_MODE === 'development' && disableDebugger !== true\n      ? /* eslint-disable-next-line no-underscore-dangle, dot-notation */\n        window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__']\n        ? /* eslint-disable-next-line no-underscore-dangle, dot-notation */\n          window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__']({\n            trace: true,\n          })\n        : compose\n      : compose;\n\n  return persist\n    ? composeEnhancers(persistState(paths, config))\n    : composeEnhancers();\n}\n\nexport function areArraysShallowEqual(arr1: unknown[], arr2: unknown[]) {\n  // returns whether 2 arrays are shallow equal\n  // used in shouldComponentUpdate when denormalizing arrays\n  // where the array object is different every time, but the content might\n  // be the same\n  if (!arr1 || !arr2) {\n    return false;\n  }\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  const { length } = arr1;\n  for (let i = 0; i < length; i += 1) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function areObjectsEqual(\n  obj1: any,\n  obj2: any,\n  opts: {\n    ignoreUndefined?: boolean;\n    ignoreNull?: boolean;\n    ignoreFields?: string[];\n  } = { ignoreUndefined: false, ignoreNull: false, ignoreFields: [] },\n) {\n  let comp1 = obj1;\n  let comp2 = obj2;\n  if (opts.ignoreUndefined) {\n    comp1 = omitBy(comp1, isUndefined);\n    comp2 = omitBy(comp2, isUndefined);\n  }\n  if (opts.ignoreNull) {\n    comp1 = omitBy(comp1, isNull);\n    comp2 = omitBy(comp2, isNull);\n  }\n  if (opts.ignoreFields?.length) {\n    const ignoreFields = ensureIsArray(opts.ignoreFields);\n    return isEqualWith(comp1, comp2, (val1, val2) =>\n      isEqual(\n        ensureIsArray(val1).map(value => omit(value, ignoreFields)),\n        ensureIsArray(val2).map(value => omit(value, ignoreFields)),\n      ),\n    );\n  }\n  return isEqual(comp1, comp2);\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { isSafari } from './common';\n\n// Use the new Clipboard API if the browser supports it\nconst copyTextWithClipboardApi = async (getText: () => Promise<string>) => {\n  // Safari (WebKit) does not support delayed generation of clipboard.\n  // This means that writing to the clipboard, from the moment the user\n  // interacts with the app, must be instantaneous.\n  // However, neither writeText nor write accepts a Promise, so\n  // we need to create a ClipboardItem that accepts said Promise to\n  // delay the text generation, as needed.\n  // Source: https://bugs.webkit.org/show_bug.cgi?id=222262P\n  if (isSafari()) {\n    try {\n      const clipboardItem = new ClipboardItem({\n        'text/plain': getText(),\n      });\n      await navigator.clipboard.write([clipboardItem]);\n    } catch {\n      // Fallback to default clipboard API implementation\n      const text = await getText();\n      await navigator.clipboard.writeText(text);\n    }\n  } else {\n    // For Blink, the above method won't work, but we can use the\n    // default (intended) API, since the delayed generation of the\n    // clipboard is now supported.\n    // Source: https://bugs.chromium.org/p/chromium/issues/detail?id=1014310\n    const text = await getText();\n    await navigator.clipboard.writeText(text);\n  }\n};\n\nconst copyTextToClipboard = (getText: () => Promise<string>) =>\n  copyTextWithClipboardApi(getText)\n    // If the Clipboard API is not supported, fallback to the older method.\n    .catch(() =>\n      getText().then(\n        text =>\n          new Promise<void>((resolve, reject) => {\n            const selection: Selection | null = document.getSelection();\n            if (selection) {\n              selection.removeAllRanges();\n              const range = document.createRange();\n              const span = document.createElement('span');\n              span.textContent = text;\n              span.style.position = 'fixed';\n              span.style.top = '0';\n              span.style.clip = 'rect(0, 0, 0, 0)';\n              span.style.whiteSpace = 'pre';\n\n              document.body.appendChild(span);\n              range.selectNode(span);\n              selection.addRange(range);\n\n              try {\n                if (!document.execCommand('copy')) {\n                  reject();\n                }\n              } catch (err) {\n                reject();\n              }\n\n              document.body.removeChild(span);\n              if (selection.removeRange) {\n                selection.removeRange(range);\n              } else {\n                selection.removeAllRanges();\n              }\n            }\n\n            resolve();\n          }),\n      ),\n    );\n\nexport default copyTextToClipboard;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// Error messages used in many places across applications\nconst COMMON_ERR_MESSAGES = {\n  SESSION_TIMED_OUT:\n    'Your session timed out, please refresh your page and try again.',\n};\n\nexport default COMMON_ERR_MESSAGES;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { JsonObject, SupersetClientResponse, t } from '@superset-ui/core';\nimport {\n  SupersetError,\n  ErrorTypeEnum,\n} from 'src/components/ErrorMessage/types';\nimport COMMON_ERR_MESSAGES from './errorMessages';\n\n// The response always contains an error attribute, can contain anything from the\n// SupersetClientResponse object, and can contain a spread JSON blob\nexport type ClientErrorObject = {\n  error: string;\n  errors?: SupersetError[];\n  link?: string;\n  message?: string;\n  severity?: string;\n  stacktrace?: string;\n  statusText?: string;\n} & Partial<SupersetClientResponse>;\n\n// see rejectAfterTimeout.ts\ninterface TimeoutError {\n  statusText: 'timeout';\n  timeout: number;\n}\n\ntype ErrorType =\n  | SupersetClientResponse\n  | TimeoutError\n  | { response: Response }\n  | string;\n\ntype ErrorTextSource = 'dashboard' | 'chart' | 'query' | 'dataset' | 'database';\n\nexport function parseErrorJson(responseObject: JsonObject): ClientErrorObject {\n  let error = { ...responseObject };\n  // Backwards compatibility for old error renderers with the new error object\n  if (error.errors && error.errors.length > 0) {\n    error.error = error.description = error.errors[0].message;\n    error.link = error.errors[0]?.extra?.link;\n  }\n  // Marshmallow field validation returns the error message in the format\n  // of { message: { field1: [msg1, msg2], field2: [msg], } }\n  if (!error.error && error.message) {\n    if (typeof error.message === 'object') {\n      error.error =\n        Object.values(error.message as Record<string, string[]>)[0]?.[0] ||\n        t('Invalid input');\n    }\n    if (typeof error.message === 'string') {\n      error.error = error.message;\n    }\n  }\n  if (error.stack) {\n    error = {\n      ...error,\n      error:\n        t('Unexpected error: ') +\n        (error.description || t('(no description, click to see stack trace)')),\n      stacktrace: error.stack,\n    };\n  } else if (error.responseText && error.responseText.indexOf('CSRF') >= 0) {\n    error = {\n      ...error,\n      error: t(COMMON_ERR_MESSAGES.SESSION_TIMED_OUT),\n    };\n  }\n\n  return { ...error, error: error.error }; // explicit ClientErrorObject\n}\n\n/*\n * Utility to get standardized error text for generic update failures\n */\nexport async function getErrorText(\n  errorObject: ErrorType,\n  source: ErrorTextSource,\n) {\n  const { error, message } = await getClientErrorObject(errorObject);\n  let errorText = t('Sorry, an unknown error occurred.');\n\n  if (error) {\n    errorText = t(\n      'Sorry, there was an error saving this %s: %s',\n      source,\n      error,\n    );\n  }\n  if (typeof message === 'string' && message === 'Forbidden') {\n    errorText = t('You do not have permission to edit this %s', source);\n  }\n  return errorText;\n}\n\nexport function getClientErrorObject(\n  response:\n    | SupersetClientResponse\n    | TimeoutError\n    | { response: Response }\n    | string,\n): Promise<ClientErrorObject> {\n  // takes a SupersetClientResponse as input, attempts to read response as Json if possible,\n  // and returns a Promise that resolves to a plain object with error key and text value.\n  return new Promise(resolve => {\n    if (typeof response === 'string') {\n      resolve({ error: response });\n      return;\n    }\n\n    if (\n      response instanceof TypeError &&\n      response.message === 'Failed to fetch'\n    ) {\n      resolve({\n        error: t('Network error'),\n      });\n      return;\n    }\n\n    if (\n      'timeout' in response &&\n      'statusText' in response &&\n      response.statusText === 'timeout'\n    ) {\n      resolve({\n        ...response,\n        error: t('Request timed out'),\n        errors: [\n          {\n            error_type: ErrorTypeEnum.FRONTEND_TIMEOUT_ERROR,\n            extra: {\n              timeout: response.timeout / 1000,\n              issue_codes: [\n                {\n                  code: 1000,\n                  message: t('Issue 1000 - The dataset is too large to query.'),\n                },\n                {\n                  code: 1001,\n                  message: t(\n                    'Issue 1001 - The database is under an unusual load.',\n                  ),\n                },\n              ],\n            },\n            level: 'error',\n            message: 'Request timed out',\n          },\n        ],\n      });\n      return;\n    }\n\n    const responseObject =\n      response instanceof Response ? response : response.response;\n    if (responseObject && !responseObject.bodyUsed) {\n      // attempt to read the body as json, and fallback to text. we must clone the\n      // response in order to fallback to .text() because Response is single-read\n      responseObject\n        .clone()\n        .json()\n        .then(errorJson => {\n          const error = { ...responseObject, ...errorJson };\n          resolve(parseErrorJson(error));\n        })\n        .catch(() => {\n          // fall back to reading as text\n          responseObject.text().then((errorText: any) => {\n            resolve({ ...responseObject, error: errorText });\n          });\n        });\n      return;\n    }\n\n    // fall back to Response.statusText or generic error of we cannot read the response\n    let error = (response as any).statusText || (response as any).message;\n    if (!error) {\n      // eslint-disable-next-line no-console\n      console.error('non-standard error:', response);\n      error = t('An error occurred');\n    }\n    resolve({\n      ...responseObject,\n      error,\n    });\n  });\n}\n\nexport function getClientErrorMessage(\n  message: string,\n  clientError?: ClientErrorObject,\n) {\n  let finalMessage = message;\n  const errorMessage = clientError?.message || clientError?.error;\n  if (errorMessage) {\n    finalMessage = `${finalMessage}:\\n${errorMessage}`;\n  }\n  return finalMessage;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// navigator.webdriver is true when browser is controlled by a bot\nexport const isCurrentUserBot = () => window?.navigator?.webdriver;\n","var map = {\n\t\"./alert.svg\": [\n\t\t57249,\n\t\t7249\n\t],\n\t\"./alert_solid.svg\": [\n\t\t52797,\n\t\t2797\n\t],\n\t\"./alert_solid_small.svg\": [\n\t\t71256,\n\t\t1256\n\t],\n\t\"./area-chart-tile.svg\": [\n\t\t37989,\n\t\t7989\n\t],\n\t\"./ballot.svg\": [\n\t\t87760,\n\t\t7760\n\t],\n\t\"./bar-chart-tile.svg\": [\n\t\t72122,\n\t\t3187\n\t],\n\t\"./big-number-chart-tile.svg\": [\n\t\t1402,\n\t\t1402\n\t],\n\t\"./binoculars.svg\": [\n\t\t38970,\n\t\t8970\n\t],\n\t\"./bolt.svg\": [\n\t\t4794,\n\t\t4794\n\t],\n\t\"./bolt_small.svg\": [\n\t\t49510,\n\t\t9510\n\t],\n\t\"./bolt_small_run.svg\": [\n\t\t36883,\n\t\t6883\n\t],\n\t\"./calendar.svg\": [\n\t\t65816,\n\t\t5816\n\t],\n\t\"./cancel-x.svg\": [\n\t\t77654,\n\t\t7654\n\t],\n\t\"./cancel.svg\": [\n\t\t14757,\n\t\t4757\n\t],\n\t\"./cancel_solid.svg\": [\n\t\t55777,\n\t\t5777\n\t],\n\t\"./card_view.svg\": [\n\t\t25838,\n\t\t5838\n\t],\n\t\"./cards.svg\": [\n\t\t81293,\n\t\t1293\n\t],\n\t\"./cards_locked.svg\": [\n\t\t69052,\n\t\t9052\n\t],\n\t\"./caret_down.svg\": [\n\t\t87832,\n\t\t7832\n\t],\n\t\"./caret_left.svg\": [\n\t\t80310,\n\t\t310\n\t],\n\t\"./caret_right.svg\": [\n\t\t64817,\n\t\t4817\n\t],\n\t\"./caret_up.svg\": [\n\t\t6011,\n\t\t9811\n\t],\n\t\"./category.svg\": [\n\t\t24851,\n\t\t4851\n\t],\n\t\"./certified.svg\": [\n\t\t88695,\n\t\t8695\n\t],\n\t\"./check.svg\": [\n\t\t83544,\n\t\t3544\n\t],\n\t\"./checkbox-half.svg\": [\n\t\t57405,\n\t\t7405\n\t],\n\t\"./checkbox-off.svg\": [\n\t\t75281,\n\t\t5281\n\t],\n\t\"./checkbox-on.svg\": [\n\t\t99013,\n\t\t9013\n\t],\n\t\"./circle.svg\": [\n\t\t60183,\n\t\t183\n\t],\n\t\"./circle_check.svg\": [\n\t\t93558,\n\t\t3558\n\t],\n\t\"./circle_check_solid.svg\": [\n\t\t70992,\n\t\t992\n\t],\n\t\"./clock.svg\": [\n\t\t50597,\n\t\t597\n\t],\n\t\"./close.svg\": [\n\t\t50999,\n\t\t999\n\t],\n\t\"./code.svg\": [\n\t\t16981,\n\t\t6981\n\t],\n\t\"./cog.svg\": [\n\t\t45962,\n\t\t5962\n\t],\n\t\"./collapse.svg\": [\n\t\t24266,\n\t\t4266\n\t],\n\t\"./color_palette.svg\": [\n\t\t65580,\n\t\t5580\n\t],\n\t\"./components.svg\": [\n\t\t80312,\n\t\t312\n\t],\n\t\"./copy.svg\": [\n\t\t23141,\n\t\t3141\n\t],\n\t\"./cross-filter-badge.svg\": [\n\t\t64625,\n\t\t4625\n\t],\n\t\"./current-rendered-tile.svg\": [\n\t\t82955,\n\t\t2955\n\t],\n\t\"./cursor_target.svg\": [\n\t\t96758,\n\t\t6758\n\t],\n\t\"./database.svg\": [\n\t\t15249,\n\t\t5249\n\t],\n\t\"./dataset_physical.svg\": [\n\t\t8312,\n\t\t8312\n\t],\n\t\"./dataset_virtual.svg\": [\n\t\t77156,\n\t\t5330\n\t],\n\t\"./dataset_virtual_greyscale.svg\": [\n\t\t84810,\n\t\t4810\n\t],\n\t\"./default_db_image.svg\": [\n\t\t51398,\n\t\t1398\n\t],\n\t\"./download.svg\": [\n\t\t112,\n\t\t112\n\t],\n\t\"./drag.svg\": [\n\t\t86507,\n\t\t6507\n\t],\n\t\"./edit.svg\": [\n\t\t93871,\n\t\t3871\n\t],\n\t\"./edit_alt.svg\": [\n\t\t86167,\n\t\t6167\n\t],\n\t\"./email.svg\": [\n\t\t50504,\n\t\t6668\n\t],\n\t\"./error.svg\": [\n\t\t67584,\n\t\t7584\n\t],\n\t\"./error_solid.svg\": [\n\t\t25641,\n\t\t5641\n\t],\n\t\"./error_solid_small.svg\": [\n\t\t92561,\n\t\t2983\n\t],\n\t\"./error_solid_small_red.svg\": [\n\t\t4273,\n\t\t4273\n\t],\n\t\"./exclamation.svg\": [\n\t\t35771,\n\t\t5771\n\t],\n\t\"./expand.svg\": [\n\t\t47922,\n\t\t7922\n\t],\n\t\"./eye.svg\": [\n\t\t11493,\n\t\t1493\n\t],\n\t\"./eye_slash.svg\": [\n\t\t45014,\n\t\t9109\n\t],\n\t\"./favorite-selected.svg\": [\n\t\t51568,\n\t\t1568\n\t],\n\t\"./favorite-unselected.svg\": [\n\t\t86682,\n\t\t6682\n\t],\n\t\"./favorite_small_selected.svg\": [\n\t\t1351,\n\t\t1351\n\t],\n\t\"./field_abc.svg\": [\n\t\t66545,\n\t\t215\n\t],\n\t\"./field_boolean.svg\": [\n\t\t87405,\n\t\t5507\n\t],\n\t\"./field_date.svg\": [\n\t\t65226,\n\t\t5226\n\t],\n\t\"./field_derived.svg\": [\n\t\t37404,\n\t\t4732\n\t],\n\t\"./field_num.svg\": [\n\t\t35201,\n\t\t5201\n\t],\n\t\"./field_struct.svg\": [\n\t\t91899,\n\t\t1899\n\t],\n\t\"./file.svg\": [\n\t\t20057,\n\t\t57\n\t],\n\t\"./filter.svg\": [\n\t\t19305,\n\t\t9305\n\t],\n\t\"./filter_small.svg\": [\n\t\t54474,\n\t\t4474\n\t],\n\t\"./folder.svg\": [\n\t\t86420,\n\t\t6420\n\t],\n\t\"./full.svg\": [\n\t\t23985,\n\t\t3985\n\t],\n\t\"./function_x.svg\": [\n\t\t44662,\n\t\t4662\n\t],\n\t\"./gear.svg\": [\n\t\t7610,\n\t\t7610\n\t],\n\t\"./grid.svg\": [\n\t\t68425,\n\t\t8425\n\t],\n\t\"./image.svg\": [\n\t\t92264,\n\t\t2264\n\t],\n\t\"./import.svg\": [\n\t\t42698,\n\t\t2698\n\t],\n\t\"./info-solid.svg\": [\n\t\t71605,\n\t\t1605\n\t],\n\t\"./info.svg\": [\n\t\t2713,\n\t\t2713\n\t],\n\t\"./info_solid_small.svg\": [\n\t\t33606,\n\t\t3606\n\t],\n\t\"./join.svg\": [\n\t\t85998,\n\t\t5998\n\t],\n\t\"./keyboard.svg\": [\n\t\t87850,\n\t\t7850\n\t],\n\t\"./layers.svg\": [\n\t\t85832,\n\t\t5832\n\t],\n\t\"./lightbulb.svg\": [\n\t\t54797,\n\t\t4797\n\t],\n\t\"./line-chart-tile.svg\": [\n\t\t88491,\n\t\t8491\n\t],\n\t\"./link.svg\": [\n\t\t99558,\n\t\t9558\n\t],\n\t\"./list.svg\": [\n\t\t45707,\n\t\t5707\n\t],\n\t\"./list_view.svg\": [\n\t\t38682,\n\t\t8682\n\t],\n\t\"./location.svg\": [\n\t\t61174,\n\t\t1174\n\t],\n\t\"./lock_locked.svg\": [\n\t\t55359,\n\t\t5359\n\t],\n\t\"./lock_unlocked.svg\": [\n\t\t6207,\n\t\t6207\n\t],\n\t\"./map.svg\": [\n\t\t18463,\n\t\t8463\n\t],\n\t\"./message.svg\": [\n\t\t64458,\n\t\t4458\n\t],\n\t\"./minus.svg\": [\n\t\t97183,\n\t\t7183\n\t],\n\t\"./minus_solid.svg\": [\n\t\t6371,\n\t\t6371\n\t],\n\t\"./more_horiz.svg\": [\n\t\t39325,\n\t\t9325\n\t],\n\t\"./more_vert.svg\": [\n\t\t91185,\n\t\t1185\n\t],\n\t\"./move.svg\": [\n\t\t74139,\n\t\t4139\n\t],\n\t\"./nav_charts.svg\": [\n\t\t75350,\n\t\t5350\n\t],\n\t\"./nav_dashboard.svg\": [\n\t\t66303,\n\t\t6303\n\t],\n\t\"./nav_data.svg\": [\n\t\t2267,\n\t\t2267\n\t],\n\t\"./nav_explore.svg\": [\n\t\t83749,\n\t\t3749\n\t],\n\t\"./nav_home.svg\": [\n\t\t44667,\n\t\t4667\n\t],\n\t\"./nav_lab.svg\": [\n\t\t43567,\n\t\t3567\n\t],\n\t\"./note.svg\": [\n\t\t46597,\n\t\t6126\n\t],\n\t\"./offline.svg\": [\n\t\t53265,\n\t\t3265\n\t],\n\t\"./paperclip.svg\": [\n\t\t22079,\n\t\t2079\n\t],\n\t\"./pie-chart-tile.svg\": [\n\t\t9873,\n\t\t9873\n\t],\n\t\"./placeholder.svg\": [\n\t\t18349,\n\t\t8349\n\t],\n\t\"./plus.svg\": [\n\t\t17460,\n\t\t7460\n\t],\n\t\"./plus_large.svg\": [\n\t\t66150,\n\t\t6150\n\t],\n\t\"./plus_small.svg\": [\n\t\t96447,\n\t\t6447\n\t],\n\t\"./plus_solid.svg\": [\n\t\t70600,\n\t\t600\n\t],\n\t\"./queued.svg\": [\n\t\t63240,\n\t\t3240\n\t],\n\t\"./redo.svg\": [\n\t\t99207,\n\t\t9207\n\t],\n\t\"./refresh.svg\": [\n\t\t25367,\n\t\t5367\n\t],\n\t\"./running.svg\": [\n\t\t5224,\n\t\t5224\n\t],\n\t\"./save.svg\": [\n\t\t36254,\n\t\t6254\n\t],\n\t\"./search.svg\": [\n\t\t30177,\n\t\t177\n\t],\n\t\"./server.svg\": [\n\t\t11075,\n\t\t1075\n\t],\n\t\"./share.svg\": [\n\t\t11263,\n\t\t1263\n\t],\n\t\"./slack.svg\": [\n\t\t42439,\n\t\t2439\n\t],\n\t\"./sort.svg\": [\n\t\t20336,\n\t\t336\n\t],\n\t\"./sort_asc.svg\": [\n\t\t79393,\n\t\t9393\n\t],\n\t\"./sort_desc.svg\": [\n\t\t32646,\n\t\t2646\n\t],\n\t\"./sql.svg\": [\n\t\t13325,\n\t\t3325\n\t],\n\t\"./table-chart-tile.svg\": [\n\t\t4421,\n\t\t4421\n\t],\n\t\"./table.svg\": [\n\t\t72403,\n\t\t2403\n\t],\n\t\"./tag.svg\": [\n\t\t30158,\n\t\t158\n\t],\n\t\"./tags.svg\": [\n\t\t90363,\n\t\t363\n\t],\n\t\"./transparent.svg\": [\n\t\t87803,\n\t\t7803\n\t],\n\t\"./trash.svg\": [\n\t\t62105,\n\t\t2105\n\t],\n\t\"./triangle_change.svg\": [\n\t\t98398,\n\t\t8398\n\t],\n\t\"./triangle_down.svg\": [\n\t\t40826,\n\t\t826\n\t],\n\t\"./triangle_up.svg\": [\n\t\t36819,\n\t\t6819\n\t],\n\t\"./undo.svg\": [\n\t\t39622,\n\t\t9622\n\t],\n\t\"./up-level.svg\": [\n\t\t65972,\n\t\t5972\n\t],\n\t\"./user.svg\": [\n\t\t99767,\n\t\t9767\n\t],\n\t\"./warning.svg\": [\n\t\t4758,\n\t\t4758\n\t],\n\t\"./warning_solid.svg\": [\n\t\t75224,\n\t\t5592\n\t],\n\t\"./x-large.svg\": [\n\t\t63955,\n\t\t3955\n\t],\n\t\"./x-small.svg\": [\n\t\t7716,\n\t\t7716\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 85494;\nmodule.exports = webpackAsyncContext;"],"names":["propTypes","copyNode","PropTypes","getText","onCopyEnd","shouldShowText","text","wrapped","tooltipText","addDangerToast","addSuccessToast","hideTooltip","defaultProps","t","CopyToClipboard","React","constructor","props","super","this","copyToClipboard","bind","onClick","d","Promise","resolve","getDecoratedCopyNode","style","cursor","textToCopy","copyTextToClipboard","then","catch","finally","renderTooltip","id","placement","title","trigger","arrowPointAtCenter","renderNotWrapped","renderLink","css","className","render","withToasts","messageToastsReducer","toasts","action","type","ADD_TOAST","payload","toast","result","slice","noDuplicate","find","x","REMOVE_TOAST","filter","NULL_STRING","TRUE_STRING","FALSE_STRING","DATETIME_FORMATTER","getTimeFormatter","TimeFormats","storeQuery","query","SupersetClient","endpoint","postPayload","data","response","window","location","origin","pathname","json","optionLabel","opt","toString","getColumnName","column","name","prepareCopyToClipboardTabularData","columns","length","map","join","i","row","j","key","parseFloat","Object","values","applyFormattingToTabularData","timeFormattedColumns","ensureIsArray","reduce","acc","colName","undefined","noOp","detectOS","appVersion","navigator","isSafari","userAgent","test","usePrevious","value","initialValue","previous","useRef","useEffect","current","truncationCSS","isTruncated","setIsTruncated","useState","ref","offsetWidth","setOffsetWidth","scrollWidth","setScrollWidth","Array","isArray","Button","tooltip","disabled","buttonSize","buttonStyle","cta","children","href","showMarginRight","restProps","theme","useTheme","colors","transitionTiming","borderRadius","typography","primary","grayscale","success","warning","error","height","padding","backgroundColor","light4","backgroundColorHover","mix","base","backgroundColorActive","backgroundColorDisabled","light2","color","dark1","colorHover","borderWidth","borderStyle","borderColor","borderColorHover","borderColorDisabled","dark2","light5","light1","element","renderedChildren","Children","firstChildMargin","gridUnit","button","cx","display","alignItems","justifyContent","lineHeight","fontSize","sizes","s","fontWeight","weights","bold","textTransform","transition","minWidth","minHeight","boxShadow","pointerEvents","marginLeft","marginRight","ErrorAlertDiv","styled","level","ErrorModal","Modal","l","LeftSideContent","ErrorAlert","body","copyText","source","subtitle","description","isModalOpen","setIsModalOpen","isBodyExpanded","setIsBodyExpanded","isCurrentUserBot","isExpandable","iconColor","role","tabIndex","show","onHide","footer","ErrorMessageComponentRegistry","Registry","overwritePolicy","OverwritePolicy","makeSingleton","ErrorTypeEnum","FRONTEND_CSRF_ERROR","FRONTEND_NETWORK_ERROR","FRONTEND_TIMEOUT_ERROR","GENERIC_DB_ENGINE_ERROR","COLUMN_DOES_NOT_EXIST_ERROR","TABLE_DOES_NOT_EXIST_ERROR","SCHEMA_DOES_NOT_EXIST_ERROR","CONNECTION_INVALID_USERNAME_ERROR","CONNECTION_INVALID_PASSWORD_ERROR","CONNECTION_INVALID_HOSTNAME_ERROR","CONNECTION_PORT_CLOSED_ERROR","CONNECTION_INVALID_PORT_ERROR","CONNECTION_HOST_DOWN_ERROR","CONNECTION_ACCESS_DENIED_ERROR","CONNECTION_UNKNOWN_DATABASE_ERROR","CONNECTION_DATABASE_PERMISSIONS_ERROR","CONNECTION_MISSING_PARAMETERS_ERRORS","OBJECT_DOES_NOT_EXIST_ERROR","SYNTAX_ERROR","VIZ_GET_DF_ERROR","UNKNOWN_DATASOURCE_TYPE_ERROR","FAILED_FETCHING_DATASOURCE_INFO_ERROR","TABLE_SECURITY_ACCESS_ERROR","DATASOURCE_SECURITY_ACCESS_ERROR","DATABASE_SECURITY_ACCESS_ERROR","QUERY_SECURITY_ACCESS_ERROR","MISSING_OWNERSHIP_ERROR","DASHBOARD_SECURITY_ACCESS_ERROR","BACKEND_TIMEOUT_ERROR","DATABASE_NOT_FOUND_ERROR","MISSING_TEMPLATE_PARAMS_ERROR","INVALID_TEMPLATE_PARAMS_ERROR","RESULTS_BACKEND_NOT_CONFIGURED_ERROR","DML_NOT_ALLOWED_ERROR","INVALID_CTAS_QUERY_ERROR","INVALID_CVAS_QUERY_ERROR","SQLLAB_TIMEOUT_ERROR","RESULTS_BACKEND_ERROR","ASYNC_WORKERS_ERROR","GENERIC_COMMAND_ERROR","GENERIC_BACKEND_ERROR","INVALID_PAYLOAD_FORMAT_ERROR","INVALID_PAYLOAD_SCHEMA_ERROR","_extends","assign","target","arguments","prototype","hasOwnProperty","call","apply","SvgTransparent","_ref","svgRef","titleId","width","fill","xmlns","StyledIcon","iconSize","viewBox","rest","m","fileName","iconProps","setLoaded","ImportedSVG","replace","cancelled","async","default","importIcon","component","TransparentIcon","keys","AntdIcons","k","r","iconOverrides","forEach","keyName","AntdEnhancedIcons","Label","alert","secondary","info","light3","baseColor","whiteSpace","overflow","textOverflow","maxWidth","opacity","LoaderImg","Loading","position","image","cls","alt","src","Loader","addToast","toastType","duration","shortid","removeToast","addInfoToast","options","ToastType","addWarningToast","toastActions","toasters","BaseComponent","connect","dispatch","bindActionCreators","useToasts","useDispatch","useMemo","StyledModal","maskTransitionName","responsive","light","resizable","draggable","hideFooter","defaultResizableConfig","maxHeight","MODAL_HEADER_HEIGHT","RESIZABLE_MIN_HEIGHT","enable","bottom","bottomLeft","bottomRight","left","top","topLeft","topRight","right","CustomModal","disablePrimaryButton","primaryButtonLoading","onHandledPrimaryAction","primaryButtonName","primaryButtonType","centered","wrapProps","resizableConfig","draggableConfig","destroyOnClose","draggableRef","bounds","setBounds","dragDisabled","setDragDisabled","FooterComponent","closeModal","modalFooter","loading","modalWidth","shouldShowMask","getResizableConfig","onOk","onCancel","visible","onMouseOver","onMouseOut","closeIcon","modalRender","modal","onStart","event","uiData","_","clientWidth","clientHeight","document","documentElement","targetRect","getBoundingClientRect","y","onDragStart","mask","displayName","buttonProps","okButtonProps","cancelButtonProps","config","AntdModal","confirm","useModal","PaginationList","Pagination","Next","classNames","e","preventDefault","Prev","Item","active","Ellipsis","createUltimatePagination","WrapperComponent","itemTypeToComponent","ITEM_TYPES","isActive","Error","getQueryCacheKey","page","pageSize","forwardRef","allowClear","allowNewOptions","ariaLabel","autoClearSearchValue","fetchOnlyOnSearch","filterOption","header","headerPosition","helperText","invertSelection","lazyLoading","mode","notFoundContent","onBlur","onError","onChange","onClear","onDropdownVisibleChange","onDeselect","onSearch","onSelect","optionFilterProps","DEFAULT_PAGE_SIZE","placeholder","showSearch","sortComparator","DEFAULT_SORT_COMPARATOR","tokenSeparators","TOKEN_SEPARATORS","getPopupContainer","oneLine","maxTagCount","propsMaxTagCount","isSingleMode","selectValue","setSelectValue","inputValue","setInputValue","isLoading","setIsLoading","setError","isDropdownVisible","setIsDropdownVisible","setPage","totalCount","setTotalCount","loadingEnabled","setLoadingEnabled","allValuesLoaded","setAllValuesLoaded","selectValueRef","fetchedQueries","Map","mappedMode","allowFetch","setMaxTagCount","MAX_TAG_COUNT","onChangeCount","setOnChangeCount","previousChangeCount","fireOnChange","useCallback","sortSelectedFirst","a","b","sortSelectedFirstHelper","sortComparatorWithSearch","sortComparatorWithSearchHelper","sortComparatorForNoSearch","sortComparatorForNoSearchHelper","selectOptions","setSelectOptions","EMPTY_OPTIONS","fullSelectOptions","missingValues","hasOption","getValue","isLabeledValue","label","String","concat","internalOnError","getClientErrorObject","mergeData","mergedData","dataValues","Set","prevOptions","previousOption","has","sort","fetchPage","search","cachedCount","get","set","debouncedFetchPage","debounce","SLOW_DEBOUNCE","handleOnSearch","searchValue","trim","newOption","isNewOption","cleanSelectOptions","newOptions","FAST_DEBOUNCE","cancel","array","mapOptions","clear","clearCache","useImperativeHandle","getPastedTextValue","option","getOption","isObject","shouldRenderChildrenOptions","hasCustomLabels","dropdownRender","originNode","dropDownRenderHelper","handleFilterOptionHelper","filterSort","triggerNode","parentNode","labelInValue","setTimeout","sortedOptions","onPaste","pastedText","clipboardData","getData","token","split","item","onPopupScroll","vScroll","currentTarget","thresholdReached","scrollTop","scrollHeight","offsetHeight","selectedItem","previousState","showArrow","suffixIcon","getSuffixIcon","menuItemSelectedIcon","tagRender","customTagRender","renderSelectOptions","StyledTag","AntdTag","Tag","tagRef","tagIsTruncated","useCSSTextTruncation","SELECT_ALL_VALUE","onMouseDown","tagName","stopPropagation","allowSelectAll","shouldShowSearch","Option","AntdSelect","initialOptions","initialOptionsSorted","enabledOptions","selectAllEligible","selectAllEnabled","selectAllMode","selectAllOption","some","v","optionsToSelect","push","selectAllLabel","formatNumber","NumberFormats","handleOnChange","newValues","val","mapValues","omittedCount","actualMaxTagCount","maxTagPlaceholder","aText","bText","aLower","toLowerCase","bLower","searchLower","Number","startsWith","localeCompare","rankedSearchCompare","StyledHeader","StyledContainer","StyledSelect","shouldForwardProp","prop","NoElement","StyledStopOutlined","Icons","StyledCheckOutlined","StyledSpin","Spin","StyledLoadingText","StyledHelperText","StyledError","StyledErrorMessage","checkLabel","propertyComparator","property","sortCallback","size","optionsLength","errorComponent","scrollTo","optionProp","customLabel","isOptObject","optProps","Table","xl","getTableProps","getTableBodyProps","prepareRow","headerGroups","rows","highlightRowId","columnsForWrapText","headerGroup","getHeaderGroupProps","headers","sortIcon","isSorted","isSortedDesc","hidden","getHeaderProps","canSort","getSortByToggleProps","i2","rowId","original","getRowProps","isSelected","cells","cell","columnCellProps","cellProps","isWrapText","Header","getCellProps","EmptyWrapperType","EmptyWrapper","TableViewStyles","scrollTable","small","PaginationStyles","isPaginationSticky","TableView","initialPageSize","initialPageIndex","initialSortBy","withPagination","emptyWrapperType","Default","noDataText","showRowCount","serverPagination","onServerPagination","scrollTopOnPagination","initialState","pageIndex","sortBy","pageCount","gotoPage","state","useTable","manualPagination","manualSortBy","Math","ceil","useFilters","useSortBy","usePagination","content","EmptyWrapperComponent","Small","isEmpty","hasPagination","tableRef","isEqual","Empty","totalPages","currentPage","p","scroll","handleGotoPage","hideFirstAndLastPageLinks","StyledTabs","animated","fullWidth","allowOverflow","StyledTabPane","AntdTabs","Tabs","TabPane","StyledEditableTabs","StyledCancelXIcon","EditableTabs","inkBar","tabPane","StyledLineEditableTabs","LineEditableTabs","Tooltip","styles","overlayStyle","overlayInnerStyle","WebkitLineClamp","WebkitBoxOrient","addToObject","arrKey","obj","newObject","copiedObject","alterInObject","alterations","alterInArr","idKey","newArr","arrItem","removeFromArr","getFromArr","arr","o","addToArr","prepend","newObj","newState","extendArr","el","initEnhancer","persist","persistConfig","disableDebugger","paths","composeEnhancers","compose","persistState","areObjectsEqual","obj1","obj2","opts","ignoreUndefined","ignoreNull","ignoreFields","comp1","comp2","val1","val2","clipboardItem","ClipboardItem","clipboard","write","writeText","copyTextWithClipboardApi","reject","selection","getSelection","removeAllRanges","range","createRange","span","createElement","textContent","clip","appendChild","selectNode","addRange","execCommand","err","removeChild","removeRange","SESSION_TIMED_OUT","parseErrorJson","responseObject","errors","message","link","extra","stack","stacktrace","responseText","indexOf","COMMON_ERR_MESSAGES","getErrorText","errorObject","errorText","TypeError","statusText","error_type","timeout","issue_codes","code","Response","bodyUsed","clone","errorJson","console","getClientErrorMessage","clientError","finalMessage","errorMessage","webdriver","webpackAsyncContext","req","__webpack_require__","ids","module","exports"],"sourceRoot":""}